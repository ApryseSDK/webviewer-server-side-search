{"version":3,"sources":["webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss?5cfb","webpack:///./src/ui/src/helpers/pageManipulationFunctions.js","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss?2fb7","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss?dd93","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss?8aa0","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss?b775","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss","webpack:///./src/ui/src/components/PageManipulationOverlayButton/PageManipulationOverlayButtonContainer.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/index.js","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.js","webpack:///./src/ui/src/components/ThumbnailControls/index.js","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.js","webpack:///./src/ui/src/components/Thumbnail/ThumbnailRedux.js","webpack:///./src/ui/src/components/Thumbnail/index.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/CustomLeftPanelOperations/CustomLeftPanelOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMore/LeftPanelPageTabsMore.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsert/LeftPanelPageTabsInsert.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsOperations/LeftPanelPageTabsOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsLarge/LeftPanelPageTabsLarge.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsContainer.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/index.js","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.js","webpack:///./src/ui/src/constants/pageNumberPlaceholder.js","webpack:///./src/ui/src/components/DocumentControls/index.js","webpack:///./src/ui/src/helpers/pageManipulation.js","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.js","webpack:///./src/ui/src/components/ThumbnailsPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","getNewRotation","curr","counterClockwise","Core","PageRotation","E_0","E_90","E_180","E_270","rotatePages","pageNumbers","doc","core","getDocument","docType","type","workerTypes","PDF","IMAGE","WEBVIEWER_SERVER","isWebViewerServerDocument","rotation","index","docViewer","getDocumentViewer","currentRotations","getPageRotations","page","setRotation","rotateClockwise","createAnnouncement","i18next","t","getPageRotation","getCurrentPage","rotateCounterClockwise","insertAbove","width","height","insertBlankPages","insertBelow","map","replace","dispatch","actions","closeElement","DataElements","PAGE_MANIPULATION_OVERLAY","openElement","extractPages","message","title","confirmBtnText","secondaryBtnText","extractAnnouncement","deleteAnnouncement","warning","onConfirm","extractPagesWithAnnotations","then","file","saveAs","onSecondary","removePages","setSelectedPageThumbnails","showWarningMessage","deletePages","isModalEnabled","setShiftKeyThumbnailsPivotIndex","getPageCount","Promise","resolve","movePagesToBottom","movePages","getTotalPages","movePagesToTop","noPagesSelectedWarning","keepOpen","exitPageInsertionWarning","closeModal","exitPageReplacementWarning","redactPages","redactionStyles","applyRedactions","createPageRedactions","annots","pageInfo","getPageInfo","pageRotation","redaction","Annotations","RedactionAnnotation","PageNumber","Rect","redactionTypeMap","setCustomData","Author","getCurrentUser","getAnnotationManager","addAnnotations","drawAnnotationsFromList","replacePages","sourceDocument","pagesToRemove","pagesToReplaceIntoDocument","documentLoadedInViewer","pageCountOfLoadedDocument","pagesToRemoveFromOriginal","sort","a","b","insertPages","pagesToInsert","insertBeforeThisPage","PageManipulationOverlayButtonContainer","props","className","pageIndex","useDispatch","selectedPageIndexes","useSelector","state","selectors","getSelectedThumbnailPageIndexes","onClick","indexOf","ToggleElementButton","dataElement","PAGE_MANIPULATION_OVERLAY_BUTTON","element","img","propTypes","PropTypes","number","isRequired","ThumbnailControls","useTranslation","isElementDisabled","isMoreOptionDisabled","pageDeletionConfirmationModalEnabled","isPageDeletionConfirmationModalEnabled","selectedIndexes","getThumbnailControlMenuItems","getFeatureFlags","shallowEqual","currentPage","pageThumbnailControlMenuItems","featureFlags","isCurrentPageInTheSelection","includes","customizableUI","documentType","isXod","XOD","isOffice","OFFICE","LEGACY_OFFICE","BUTTONS_MAP","Button","onClickAnnouncement","isCustomized","occurredButtons","buttons","item","key","component","React","cloneElement","data-element","style","display","classNames","PageManipulationOverlayButton","Thumbnail","isSelected","updateAnnotations","shiftKeyThumbnailPivotIndex","onFinishLoading","onLoad","onRemove","onDragStart","onDragOver","isDraggable","shouldShowControls","thumbnailSize","pageLabels","isThumbnailMultiselectEnabled","isReaderModeOrReadOnly","isMobile","canLoad","onCancel","isThumbnailSelectingPages","thumbnailSelectionMode","activeDocumentViewerKey","panelSelector","thumbSize","Number","useState","dimensions","setDimensions","loaded","setLoaded","loadTimeout","loadThumbnailAsync","setTimeout","thumbnailContainer","getRootNode","querySelector","pageNum","viewerRotation","getRotation","id","loadCanvas","pageNumber","drawComplete","thumb","childElement","removeChild","ratio","Math","min","abs","cssTransform","allowUseOfOptimizedThumbnail","useEffect","onPagesUpdated","changes","contentChanged","moved","added","removed","isPageAdded","didPageChange","some","changedPage","didPageMove","Object","keys","movedPage","parseInt","isPageRemoved","newPageCount","onRotationUpdated","addEventListener","removeEventListener","clearTimeout","useDidUpdate","isActive","pageLabel","checkboxRotateClass","active","selected","e","draggable","checkboxToggled","target","multiSelectionKeyPressed","ctrlKey","metaKey","shiftKeyPressed","shiftKey","updatedSelectedPages","setThumbnailSelectingPages","shiftKeyPivot","currSelectMinIndex","currSelectMaxIndex","max","Set","Array","from","_","thumbnailSelectionModes","filter","lastSelectedPageIndex","setCurrentPage","Choice","checked","ThumbnailRedux","getPageLabels","isReaderMode","isDocumentReadOnly","getShiftKeyThumbnailPivotIndex","getThumbnailSelectionMode","getActiveDocumentViewerKey","selectionModes","LeftPanelPageTabsMoreSmall","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER","LeftPanelPageTabsInsertSmall","CustomLeftPanelOperations","operations","operation","LeftPanelPageTabsRotate","onRotateClockwise","onRotateCounterClockwise","InitialLeftPanelPageTabsSmall","children","multiPageManipulationControlsItems","childrenArray","Children","toArray","find","child","LeftPanelPageTabsSmall","multiPageManipulationControlsItemsSmall","LeftPanelPageTabsMore","THUMBNAILS_CONTROL_MANIPULATE_POPUP","THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER","LeftPanelPageTabsMove","moveToTop","moveToBottom","InitialLeftPanelPageTabs","LeftPanelPageTabs","LeftPanelPageTabsInsert","onInsert","LeftPanelPageTabsOperations","onReplace","onExtractPages","onDeletePages","LeftPanelPageTabsLarge","LeftPanelPageTabsContainer","widthMinusMargins","parentElement","isInMobile","getPanelWidth","getLeftPanelWidth","getMultiPageManipulationControlsItems","getMultiPageManipulationControlsItemsSmall","getMultiPageManipulationControlsItemsLarge","isInDesktopOnlyMode","panelWidth","deleteModalEnabled","multiPageManipulationControlsSmall","multiPageManipulationControlsLarge","isDesktopOnlyMode","getBoundingClientRect","panelMinWidth","isPanelLarge","childProps","getPageString","selectedPageArray","pagesToPrint","sortedPages","prevIndex","slice","DocumentControls","isDisabled","initialPagesString","pageString","setPageString","previousPageString","setPreviousPageString","enableThumbnailSelectingPages","htmlFor","name","onBlur","selectedPagesString","value","pages","getPageArrayFromString","pageIndexes","updatedString","onChange","placeholder","aria-label","bool","arrayOf","string","toggleDocumentControl","func","mergeDocument","srcToMerge","mergeToPage","shouldFireEvent","LOADING_MODAL","reject","mergeResults","fireEvent","Events","DOCUMENT_MERGED","err","ThumbnailsPanel","parentDataElement","isElementOpen","getIsThumbnailMergingEnabled","getIsThumbnailReorderingEnabled","getIsMultipleViewerMerging","openingPageManipulationOverlayByRightClickEnabled","isLeftPanelOpen","totalPages","isThumbnailMergingEnabled","isThumbnailReorderingEnabled","isMultipleViewerMerging","isThumbnailControlDisabled","isThumbnailSliderDisabled","totalPagesFromSecondaryDocumentViewer","isRightClickEnabled","listRef","useRef","pendingThumbs","thumbs","afterMovePageNumber","isOfficeEditor","setIsOfficeEditor","setCanLoad","setHeight","setWidth","draggingOverPageIndex","setDraggingOverPageIndex","isDraggingToPreviousPage","setDraggingToPreviousPage","numberOfColumns","setNumberOfColumns","isDragging","setIsDragging","setThumbnailSize","lastTimeTriggered","setLastTimeTriggered","globalIndex","setGlobalIndex","pageCount","activeThumbRenders","thumbContainer","current","pageWidth","getPageWidth","pageHeight","round","getThumbnailSize","getPageHeight","annotCanvas","createElement","role","ariaLabel","maxWidth","maxHeight","ctx","getContext","zoom","getCompleteRotation","multiplier","getCanvasMultiplier","setAnnotationCanvasTransform","overrideCanvas","overridePageRotation","overridePageCanvas","debounce","drawAnnotations","debouncedDraw","onBeginRendering","onFinishedRendering","needsMoreRendering","onDocumentLoaded","getType","onPageComplete","updatedPagesIndexes","isPageAddedBefore","scrollToRow","floor","onAnnotationChanged","indices","annot","Listable","onPageNumberUpdated","onDragEnd","scrollToRowHelper","change","time","now","Date","getTime","preventDefault","stopPropagation","thumbnail","pageX","x","pageY","y","bottom","hoverAreaHeight","scrollDown","scrollUp","draggingSelectedPage","pagesToMove","THUMBNAIL_DRAGGED","dataTransfer","setData","setDragImage","Image","dropEffect","effectAllowed","frameElement","extractedDataPromise","pagesExtracted","onDrop","externalPageWebViewerFrameId","files","insertTo","isIE11","getData","viewerID","mergingDocument","currentPageIndex","otherWebViewerIframe","parent","console","warn","contentWindow","docToMerge","filename","targetPageNumber","pageNumbersToMove","p","updatedPagesNumbers","offset","THUMBNAIL_DROPPED","pageNumbersBeforeMove","pagesNumbersAfterMove","numberOfPagesMoved","thumbIsLoaded","thumbIsPending","removeFromPendingThumbs","getPendingThumbIndex","splice","cancelLoadThumbnail","findIndex","thumbStatus","canvases","c","cancel","renderThumbnails","columnsOfThumbnails","row","allowPageOperationsUI","fill","columnIndex","thumbIndex","allowDragAndDrop","showPlaceHolder","Fragment","onContextMenu","event","setPageManipulationOverlayAlternativePosition","left","right","top","openElements","updateNumberOfColumns","thumbnailHeight","thumbnailAutoScrollAreaStyle","lineStart","circleRadius","onSliderChange","property","zoomValue","hideTooltipShortcut","Slider","displayProperty","getDisplayValue","customCircleRadius","customLineStrokeWidth","getCirclePosition","lineLength","convertRelativeCirclePositionToValue","circlePosition","onStyleChange","step","shouldHideSliderTitle","shouldHideSliderValue","aria-valuemin","aria-valuemax","aria-valuenow","bounds","onResize","measureRef","ref","rowHeight","rowCount","ceil","rowRenderer","overscanRowCount","outline","scrollToIndex"],"mappings":"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","file":"chunks/34.chunk.js","sourcesContent":["var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelPageTabsContainer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import extractPagesWithAnnotations from 'helpers/extractPagesWithAnnotations';\nimport core from 'core';\nimport { saveAs } from 'file-saver';\nimport actions from 'actions';\nimport i18next from 'i18next';\nimport { workerTypes } from 'constants/types';\nimport { redactionTypeMap } from 'constants/redactionTypes';\nimport DataElements from 'constants/dataElement';\nimport { createAnnouncement } from './accessibility';\n\nconst getNewRotation = (curr, counterClockwise = false) => {\n  const { E_0, E_90, E_180, E_270 } = window.Core.PageRotation;\n  switch (curr) {\n    case E_270:\n      return counterClockwise ? E_180 : E_0;\n    case E_180:\n      return counterClockwise ? E_90 : E_270;\n    case E_90:\n      return counterClockwise ? E_0 : E_180;\n    default:\n      return counterClockwise ? E_270 : E_90;\n  }\n};\n\nconst canRotateLoadedDocument = () => {\n  const doc = core.getDocument();\n  const docType = doc?.type;\n\n  return (\n    workerTypes.PDF === docType ||\n    workerTypes.IMAGE === docType ||\n    (docType === workerTypes.WEBVIEWER_SERVER && !doc.isWebViewerServerDocument())\n  );\n};\n\nconst rotatePages = (pageNumbers, counterClockwise) => {\n  if (canRotateLoadedDocument()) {\n    const rotation = counterClockwise ? window.Core.PageRotation.E_270 : window.Core.PageRotation.E_90;\n    pageNumbers.forEach((index) => {\n      core.rotatePages([index], rotation);\n    });\n  } else {\n    const docViewer = core.getDocumentViewer();\n    const currentRotations = docViewer.getPageRotations();\n    for (const page of pageNumbers) {\n      docViewer.setRotation(getNewRotation(currentRotations[page], counterClockwise), page);\n    }\n  }\n};\n\nconst rotateClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, false);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 90) % 360} degrees`);\n};\n\nconst rotateCounterClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, true);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedCounterClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 270) % 360} degrees`);\n};\n\nconst insertAbove = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers, width, height);\n};\n\nconst insertBelow = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers.map((i) => i + 1), width, height);\n};\n\nconst replace = (dispatch) => {\n  dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n  dispatch(actions.openElement('pageReplacementModal'));\n};\n\nconst extractPages = (pageNumbers, dispatch) => {\n  const message = i18next.t('warning.extractPage.message');\n  const title = i18next.t('warning.extractPage.title');\n  const confirmBtnText = i18next.t('warning.extractPage.confirmBtn');\n  const secondaryBtnText = i18next.t('warning.extractPage.secondaryBtn');\n  const extractAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.extracted')}`;\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: () => extractPagesWithAnnotations(pageNumbers).then((file) => {\n      saveAs(file, 'extractedDocument.pdf');\n      createAnnouncement(extractAnnouncement + deleteAnnouncement);\n    }),\n    secondaryBtnText,\n    onSecondary: () => {\n      extractPagesWithAnnotations(pageNumbers).then((file) => {\n        saveAs(file, 'extractedDocument.pdf');\n        core.removePages(pageNumbers).then(() => {\n          dispatch(actions.setSelectedPageThumbnails([]));\n        });\n        createAnnouncement(extractAnnouncement);\n      });\n    },\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst deletePages = (pageNumbers, dispatch, isModalEnabled = true) => {\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n  if (isModalEnabled) {\n    let message = i18next.t('warning.deletePage.deleteMessage');\n    const title = i18next.t('warning.deletePage.deleteTitle');\n    const confirmBtnText = i18next.t('action.ok');\n\n    let warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => core.removePages(pageNumbers).then(() => {\n        dispatch(actions.setSelectedPageThumbnails([]));\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n        createAnnouncement(deleteAnnouncement);\n      }),\n    };\n\n    if (core.getDocumentViewer().getPageCount() === pageNumbers.length) {\n      message = i18next.t('warning.deletePage.deleteLastPageMessage');\n\n      warning = {\n        message,\n        title,\n        confirmBtnText,\n        onConfirm: () => Promise.resolve(),\n      };\n    }\n\n    dispatch(actions.showWarningMessage(warning));\n  } else {\n    core.removePages(pageNumbers).then(() => {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n      createAnnouncement(deleteAnnouncement);\n    });\n  }\n};\n\nconst movePagesToBottom = (pageNumbers) => {\n  core.movePages(pageNumbers, core.getTotalPages() + 1);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToBottomOfDocument')}`);\n};\n\nconst movePagesToTop = (pageNumbers) => {\n  core.movePages(pageNumbers, 0);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToTopofDocument')}`);\n};\n\nconst noPagesSelectedWarning = (pageNumbers, dispatch) => {\n  if (pageNumbers.length === 0) {\n    const title = i18next.t('warning.selectPage.selectTitle');\n    const message = i18next.t('warning.selectPage.selectMessage');\n    const confirmBtnText = i18next.t('action.ok');\n\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => Promise.resolve(),\n      keepOpen: ['leftPanel'],\n    };\n\n    dispatch(actions.showWarningMessage(warning));\n    return true;\n  }\n  return false;\n};\n\nconst exitPageInsertionWarning = (closeModal, dispatch) => {\n  const title = i18next.t('insertPageModal.warning.title');\n  const message = i18next.t('insertPageModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst exitPageReplacementWarning = (closeModal, dispatch) => {\n  const title = i18next.t('option.pageReplacementModal.warning.title');\n  const message = i18next.t('option.pageReplacementModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst redactPages = (pageNumbers, redactionStyles) => {\n  core.applyRedactions(createPageRedactions(pageNumbers, redactionStyles));\n};\n\nconst createPageRedactions = (pageNumbers, redactionStyles) => {\n  const annots = [];\n  const document = core.getDocument();\n  for (const page of pageNumbers) {\n    const pageInfo = document.getPageInfo(page);\n    const pageRotation = document.getPageRotation(page);\n    if (pageInfo) {\n      let width;\n      let height;\n      if (pageRotation === 90 || pageRotation === 270) {\n        width = pageInfo.height;\n        height = pageInfo.width;\n      } else {\n        width = pageInfo.width;\n        height = pageInfo.height;\n      }\n      const redaction = new window.Core.Annotations.RedactionAnnotation({\n        PageNumber: page,\n        Rect: new window.Core.Annotations.Rect(0, 0, width, height),\n        ...redactionStyles\n      });\n      redaction.type = redactionTypeMap['FULL_PAGE'];\n      redaction.setCustomData('trn-redaction-type', redactionTypeMap['FULL_PAGE']);\n      redaction.Author = core.getCurrentUser();\n      annots.push(redaction);\n    }\n  }\n  core.getAnnotationManager().addAnnotations(annots);\n  core.getAnnotationManager().drawAnnotationsFromList(annots);\n  return annots;\n};\n\nconst replacePages = async (sourceDocument, pagesToRemove, pagesToReplaceIntoDocument) => {\n  const documentLoadedInViewer = core.getDocument();\n  const pageCountOfLoadedDocument = documentLoadedInViewer.getPageCount();\n  const pagesToRemoveFromOriginal = pagesToRemove.sort((a, b) => a - b);\n\n  // If document to replace into has only one page, or we are replacing all pages\n  // then we can insert pages at the end, and then remove the pages to avoid an error of removing all pages\n  if (pageCountOfLoadedDocument === 1 || pagesToRemoveFromOriginal.length === pageCountOfLoadedDocument) {\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument);\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n  } else {\n    // If document to replace into has > 1 page we need insert the new pages at the spot of the first removed page\n    // pagesToRemoveFromOriginal is sorted in ascending order. Interleaving pages would be complex.\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument, pagesToRemoveFromOriginal[0]);\n  }\n};\n\nconst insertPages = async (sourceDocument, pagesToInsert, insertBeforeThisPage = null) => {\n  const documentLoadedInViewer = core.getDocument();\n  await documentLoadedInViewer.insertPages(sourceDocument, pagesToInsert, insertBeforeThisPage);\n};\n\nexport {\n  rotateClockwise,\n  rotateCounterClockwise,\n  insertAbove,\n  insertBelow,\n  replace,\n  extractPages,\n  deletePages,\n  movePagesToBottom,\n  movePagesToTop,\n  noPagesSelectedWarning,\n  redactPages,\n  createPageRedactions,\n  replacePages,\n  insertPages,\n  exitPageInsertionWarning,\n  exitPageReplacementWarning\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:\\\"rotate delete . more\\\";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay.modular-ui .Button:hover{border:1px solid var(--focus-border);background:var(--tools-button-hover)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Thumbnail.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControlsContainer{margin-left:16px;margin-right:16px;margin-bottom:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControlsContainer{margin-left:16px;margin-right:16px;margin-bottom:16px}}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./DocumentControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 0 8px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding-bottom:16px;padding-top:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsInput{padding-bottom:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsInput{padding-bottom:0}}.documentControls .documentControlsInput.customizableUI{padding:8px 0}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsInput .pagesInput{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsInput .pagesInput{font-size:13px}}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControls .documentControlsLabel{margin-top:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsLabel{margin-top:8px;font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsLabel{margin-top:8px;font-size:13px}}.documentControls .documentControlsLabel .multiSelectExampleLabel{color:var(--faded-text);margin-left:2px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailsPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container{width:inherit;margin:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container{width:inherit;margin:16px}}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;margin:10px 0;width:100%}.thumbnail-slider-container input[type=range]:focus{outline:none;box-shadow:0 0 5px var(--focus-border)}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 var(--gray-12);background:var(--slider-filled);border-radius:5px;border:0 solid var(--gray-12)}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{box-shadow:0 0 1px var(--gray-12);border:0 solid var(--gray-12);height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer;-webkit-appearance:none;margin-top:-5px}.thumbnail-slider-container input[type=range]:focus::-webkit-slider-runnable-track{background:var(--slider-filled)}.thumbnail-slider-container input[type=range]::-moz-range-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 var(--gray-12);background:var(--slider-filled);border-radius:5px;border:0 solid var(--gray-12)}.thumbnail-slider-container input[type=range]::-moz-range-thumb{box-shadow:0 0 1px var(--gray-12);border:0 solid var(--gray-12);height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]::-ms-track{padding:5px 0 0;width:100%;height:3px;background:transparent;border-color:transparent;color:transparent;cursor:pointer;border-width:6px 0;animate:.2s}.thumbnail-slider-container input[type=range]::-ms-fill-lower,.thumbnail-slider-container input[type=range]::-ms-fill-upper{background:var(--slider-filled);border:0 solid var(--gray-12);border-radius:10px;box-shadow:0 0 0 var(--gray-12)}.thumbnail-slider-container input[type=range]::-ms-thumb{box-shadow:0 0 1px var(--gray-12);border:0 solid var(--gray-12);height:15px;width:15px;border-radius:50%;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]:focus::-ms-fill-lower,.thumbnail-slider-container input[type=range]:focus::-ms-fill-upper{background:var(--slider-filled)}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnail-slider-container .slider{width:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container .slider{margin-top:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container .slider{margin-top:0}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container .slider .slider-element-container{width:auto;margin-left:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container .slider .slider-element-container{width:auto;margin-left:auto}}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ThumbnailsPanel{width:inherit;margin:0 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ThumbnailsPanel{width:inherit;margin:0 16px}}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport ToggleElementButton from '../ToggleElementButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayButtonContainer(props) {\n  const { className, pageIndex } = props;\n\n  const dispatch = useDispatch();\n  const selectedPageIndexes = useSelector((state) => selectors.getSelectedThumbnailPageIndexes(state));\n\n  const onClickPageManipulationOverlayButton = () => {\n    if (selectedPageIndexes.indexOf(pageIndex) === -1) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={onClickPageManipulationOverlayButton}\n    >\n      <ToggleElementButton\n        dataElement={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n        element={DataElements.PAGE_MANIPULATION_OVERLAY}\n        img=\"icon-tool-more\"\n        title=\"option.thumbnailPanel.moreOptions\"\n      />\n    </div>\n  );\n}\n\nexport default PageManipulationOverlayButtonContainer;","import PageManipulationOverlayButtonContainer from './PageManipulationOverlayButtonContainer';\n\nexport default PageManipulationOverlayButtonContainer;","import React from 'react';\nimport { useDispatch, shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { deletePages, rotateClockwise, rotateCounterClockwise } from 'helpers/pageManipulationFunctions';\nimport Button from 'components/Button';\nimport selectors from 'selectors';\nimport './ThumbnailControls.scss';\nimport PageManipulationOverlayButton from 'components/PageManipulationOverlayButton';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  index: PropTypes.number.isRequired,\n};\n\nconst dataElementName = 'thumbnailControl';\n\nconst ThumbnailControls = ({ index }) => {\n  const { t } = useTranslation();\n  const [isElementDisabled] = useSelector((state) => [selectors.isElementDisabled(state, dataElementName)]);\n  const [isMoreOptionDisabled] = useSelector((state) => [selectors.isElementDisabled(state, DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON)]);\n  const [isPageDeletionConfirmationModalEnabled, selectedIndexes] = useSelector((state) => [\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getSelectedThumbnailPageIndexes(state),\n  ]);\n  const dispatch = useDispatch();\n\n  const [\n    currentPage,\n    pageThumbnailControlMenuItems,\n    featureFlags,\n  ] = useSelector((state) => [\n    selectors.getCurrentPage(state),\n    selectors.getThumbnailControlMenuItems(state),\n    selectors.getFeatureFlags(state),\n  ], shallowEqual);\n\n  let pageNumbers = selectedIndexes.length > 0 ? selectedIndexes.map((i) => i + 1) : [index + 1];\n\n  const isCurrentPageInTheSelection = pageNumbers.includes(currentPage);\n  const customizableUI = featureFlags.customizableUI;\n\n  if (!isCurrentPageInTheSelection) {\n    pageNumbers = [currentPage];\n  }\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  const BUTTONS_MAP = {\n    'thumbRotateClockwise': <Button\n      className=\"rotate-button\"\n      img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n      onClick={() => rotateClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageClockwise\"\n      dataElement=\"thumbRotateClockwise\"\n    />,\n    'thumbRotateCounterClockwise': <Button\n      img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n      onClick={() => rotateCounterClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n      dataElement=\"thumbRotateCounterClockwise\"\n    />,\n    'thumbDelete': <Button\n      className=\"delete-button\"\n      img=\"icon-delete-line\"\n      onClick={() => deletePages(pageNumbers, dispatch, isPageDeletionConfirmationModalEnabled)}\n      title=\"option.thumbnailPanel.delete\"\n      dataElement=\"thumbDelete\"\n      onClickAnnouncement={`${t('action.delete')} ${t('action.modal')} ${t('action.isOpen')}`}\n    />,\n  };\n  let isCustomized = false;\n  const occurredButtons = [];\n  const buttons = pageThumbnailControlMenuItems.map((item) => {\n    const { dataElement } = item;\n    const key = dataElement;\n    let component = BUTTONS_MAP[dataElement];\n    if (occurredButtons.indexOf(dataElement) > -1) {\n      return null;\n    }\n    occurredButtons.push(dataElement);\n\n    /* Example button object:\n    {\n      title: 'Alert me',\n      img: '/path-to-image',\n      onClick: (selectedPageNumbers) => alert(``),\n      dataElement: 'alertMeDataElement',\n    } */\n    if (!component) {\n      isCustomized = true;\n      const { img, onClick, title } = item;\n      component = <Button\n        className={`${dataElement}-button`}\n        img={img}\n        onClick={() => onClick(currentPage)}\n        title={title}\n        dataElement={dataElement}\n      />;\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n\n  if (isElementDisabled) {\n    return null;\n  } if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className=\"thumbnailControls-overlay\" data-element={dataElementName}\n        style={{ display: 'flex' }}\n      >\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n          onClick={() => rotateCounterClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n          dataElement=\"thumbRotateCounterClockwise\"\n        />\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n          onClick={() => rotateClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageClockwise\"\n          dataElement=\"thumbRotateClockwise\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classNames({\n      'thumbnailControls-overlay': true,\n      'custom-buttons': isCustomized,\n      'modular-ui': customizableUI,\n    })}\n    data-element={dataElementName}\n    >\n      {buttons}\n      {\n        (isMoreOptionDisabled) ? null : <PageManipulationOverlayButton\n          className={'more-options'}\n          pageIndex={index}\n        />\n      }\n\n    </div>\n  );\n};\n\n\nThumbnailControls.propTypes = propTypes;\n\nexport default ThumbnailControls;\n","import ThumbnailControls from './ThumbnailControls';\n\nexport default ThumbnailControls;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport core from 'core';\nimport ThumbnailControls from 'components/ThumbnailControls';\nimport thumbnailSelectionModes from 'constants/thumbnailSelectionModes';\n\nimport './Thumbnail.scss';\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\nimport getRootNode from 'helpers/getRootNode';\n\n// adds a delay in ms so thumbs that are only on the screen briefly are not loaded.\nconst THUMBNAIL_LOAD_DELAY = 50;\n\nconst Thumbnail = ({\n  index,\n  isSelected,\n  updateAnnotations,\n  shiftKeyThumbnailPivotIndex,\n  onFinishLoading,\n  onLoad,\n  onRemove = () => { },\n  onDragStart,\n  onDragOver,\n  isDraggable,\n  shouldShowControls,\n  thumbnailSize,\n  currentPage,\n  pageLabels = [],\n  selectedPageIndexes,\n  isThumbnailMultiselectEnabled,\n  isReaderModeOrReadOnly,\n  dispatch,\n  actions,\n  isMobile,\n  canLoad,\n  onCancel,\n  isThumbnailSelectingPages,\n  thumbnailSelectionMode,\n  activeDocumentViewerKey,\n  panelSelector\n}) => {\n  const thumbSize = thumbnailSize ? Number(thumbnailSize) : 150;\n\n  const [dimensions, setDimensions] = useState({ width: thumbSize, height: thumbSize });\n  // To ensure checkmark loads after thumbnail\n  const [loaded, setLoaded] = useState(false);\n\n  let loadTimeout = null;\n\n  const loadThumbnailAsync = () => {\n    loadTimeout = setTimeout(() => {\n      const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n\n      const pageNum = index + 1;\n      const viewerRotation = core.getRotation(pageNum);\n\n      const doc = core.getDocument(activeDocumentViewerKey);\n      // Possible race condition can happen where we try to render a thumbnail for a page that has\n      // been deleted. Prevent that by checking if pageInfo exists\n\n      if (doc && doc.getPageInfo(pageNum)) {\n        const id = doc.loadCanvas({\n          pageNumber: pageNum,\n          width: thumbSize,\n          height: thumbSize,\n          drawComplete: async (thumb) => {\n            const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n            if (thumbnailContainer) {\n              const childElement = thumbnailContainer.querySelector('.page-image');\n              if (childElement) {\n                thumbnailContainer.removeChild(childElement);\n              }\n\n              thumb.className = 'page-image';\n\n              const ratio = Math.min(thumbSize / thumb.width, thumbSize / thumb.height);\n              thumb.style.width = `${thumb.width * ratio}px`;\n              thumb.style.height = `${thumb.height * ratio}px`;\n              setDimensions({ width: Number(thumb.width), height: Number(thumb.height) });\n\n              if (Math.abs(viewerRotation)) {\n                const cssTransform = `rotate(${viewerRotation * 90}deg) translate(-50%,-50%)`;\n                const cssTransformOrigin = 'top left';\n                thumb.style['transform'] = cssTransform;\n                thumb.style['transform-origin'] = cssTransformOrigin;\n                thumb.style['ms-transform'] = cssTransform;\n                thumb.style['ms-transform-origin'] = cssTransformOrigin;\n                thumb.style['-moz-transform'] = cssTransform;\n                thumb.style['-moz-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform'] = cssTransform;\n                thumb.style['-o-transform'] = cssTransform;\n                thumb.style['-o-transform-origin'] = cssTransformOrigin;\n              }\n\n              thumbnailContainer.appendChild(thumb);\n            }\n\n            if (updateAnnotations) {\n              updateAnnotations(index);\n            }\n\n            onFinishLoading(index);\n            setLoaded(true);\n          },\n          allowUseOfOptimizedThumbnail: true,\n        });\n        onLoad(index, thumbnailContainer, id);\n      }\n    }, THUMBNAIL_LOAD_DELAY);\n  };\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      const { contentChanged, moved, added, removed } = changes;\n\n      const currentPage = index + 1;\n\n      const isPageAdded = added.includes(currentPage);\n      const didPageChange = contentChanged.some((changedPage) => currentPage === changedPage);\n      const didPageMove = Object.keys(moved).some((movedPage) => currentPage === parseInt(movedPage));\n      const isPageRemoved = removed.includes(currentPage);\n      const newPageCount = core.getTotalPages();\n\n      if (removed.length > 0 && index + 1 > newPageCount) {\n        return;\n      }\n\n      if (isPageAdded || didPageChange || didPageMove || isPageRemoved) {\n        loadThumbnailAsync();\n      }\n    };\n\n    const onRotationUpdated = () => {\n      setLoaded(false);\n      loadThumbnailAsync();\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n    core.addEventListener('rotationUpdated', onRotationUpdated);\n    if (canLoad) {\n      loadThumbnailAsync();\n    }\n    return () => {\n      core.removeEventListener('pagesUpdated', onPagesUpdated);\n      core.removeEventListener('rotationUpdated', onRotationUpdated);\n      clearTimeout(loadTimeout);\n      onRemove(index);\n    };\n  }, []);\n\n  useDidUpdate(() => {\n    if (canLoad) {\n      loadThumbnailAsync();\n      updateAnnotations(index);\n    } else {\n      onCancel(index);\n    }\n  }, [canLoad, activeDocumentViewerKey]);\n\n  const handleClick = (e) => {\n    const checkboxToggled = e.target.type && e.target.type === 'checkbox';\n    if (isThumbnailMultiselectEnabled && !isReaderModeOrReadOnly) {\n      const multiSelectionKeyPressed = e.ctrlKey || e.metaKey;\n      const shiftKeyPressed = e.shiftKey;\n      let updatedSelectedPages = [...selectedPageIndexes];\n\n      if (shiftKeyPressed) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Include current page as part of selection if we just started shift-selecting\n        let shiftKeyPivot = shiftKeyThumbnailPivotIndex;\n        if (shiftKeyPivot === null) {\n          shiftKeyPivot = currentPage - 1;\n          dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot));\n        }\n        // get the range of the selected index and update selected page\n        const currSelectMinIndex = Math.min(shiftKeyPivot, index);\n        const currSelectMaxIndex = Math.max(shiftKeyPivot, index);\n        updatedSelectedPages = [...new Set([...Array.from(\n          { length: currSelectMaxIndex - currSelectMinIndex + 1 },\n          (_, i) => i + currSelectMinIndex,\n        )])];\n      } else if (multiSelectionKeyPressed || isThumbnailSelectingPages) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Only select a page if multiSelectionKeyPressed or if checkbox is checked unless in 'thumbnail' mode\n        if (multiSelectionKeyPressed || checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n          // Include current page as part of selection if we just started multi-selecting\n          if (selectedPageIndexes.length === 0 && !isThumbnailSelectingPages) {\n            updatedSelectedPages.push(currentPage - 1);\n          } else if (selectedPageIndexes.includes(index)) {\n            updatedSelectedPages = selectedPageIndexes.filter((pageIndex) => index !== pageIndex);\n          } else {\n            updatedSelectedPages.push(index);\n          }\n        }\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(index));\n      } else {\n        updatedSelectedPages = [index];\n      }\n      // set shiftKeyPivot when press ctr key or single key\n      const lastSelectedPageIndex = updatedSelectedPages[updatedSelectedPages.length - 1];\n      const shouldUpdateShiftKeyPivotIndex = !isThumbnailSelectingPages && !shiftKeyPressed;\n\n      if (shouldUpdateShiftKeyPivotIndex) {\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex));\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages));\n    } else if (isMobile()) {\n      dispatch(actions.closeElement('leftPanel'));\n    }\n\n    // due to the race condition, we need a settimeout here\n    // otherwise, sometimes the current page will not be visible in left panel\n    setTimeout(() => {\n      // If user clicks on checkbox, it should not automatically jump to that page,\n      // only if the user clicks on thumbnail then go to page and view it, unless in 'thumbnail' mode\n      if (!checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n        core.setCurrentPage(index + 1);\n      }\n    }, 0);\n  };\n\n  const isActive = currentPage === index + 1;\n  const pageLabel = pageLabels[index];\n  let checkboxRotateClass = 'default';\n  const rotation = core.getRotation(index + 1);\n  if ((!rotation || rotation === 2) && dimensions.width > dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  } else if ((rotation === 1 || rotation === 3) && dimensions.width < dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  }\n\n  return (\n    <div\n      className={classNames({\n        Thumbnail: true,\n        active: isActive,\n        selected: isSelected && isThumbnailSelectingPages,\n      })}\n      onDragOver={(e) => onDragOver(e, index)}\n      id=\"Thumbnail-container\"\n    >\n      <div\n        className=\"container\"\n        style={{\n          width: thumbSize,\n          height: thumbSize,\n        }}\n        onDragStart={(e) => onDragStart(e, index)}\n        draggable={isDraggable}\n        onClick={handleClick}\n      >\n        <div id={`pageThumb${index}`} className=\"thumbnail\" />\n        {isThumbnailSelectingPages && loaded && (\n          <Choice className={`checkbox ${checkboxRotateClass}`} checked={selectedPageIndexes.includes(index)} />\n        )}\n      </div>\n      <div className=\"page-label\">{pageLabel}</div>\n      {!isThumbnailSelectingPages && isActive && shouldShowControls && <ThumbnailControls index={index} />}\n    </div>\n  );\n};\n\nexport default Thumbnail;\n","import React from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobile } from 'helpers/device';\n\nimport Thumbnail from './Thumbnail';\n\nconst ThumbnailRedux = (props) => {\n  const [\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    activeDocumentViewerKey,\n    selectionModes\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.isThumbnailMultiselectEnabled(state),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getShiftKeyThumbnailPivotIndex(state),\n      selectors.isThumbnailSelectingPages(state),\n      selectors.getThumbnailSelectionMode(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  return <Thumbnail {...props} {...{\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderModeOrReadOnly: isReaderMode || isDocumentReadOnly,\n    dispatch,\n    actions,\n    isMobile,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    selectionModes,\n    activeDocumentViewerKey,\n  }}\n  />;\n};\n\nexport default ThumbnailRedux;\n","import ThumbnailRedux from './ThumbnailRedux';\n\nexport default ThumbnailRedux;","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMoreSmall() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMoreSmall;\n","import React from 'react';\n\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsertSmall() {\n  return (\n    <div className={'dropdown-menu'}>\n      <ToggleElementButton\n        title=\"action.PageInsertion\"\n        className={'dropdown-menu'}\n        element=\"thumbnailsControlInsertPopup\"\n        dataElement=\"thumbnailsControlInsertPopupTrigger\"\n        img=\"icon-header-page-manipulation-insert-above\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsInsertSmall;\n","import React from 'react';\nimport Button from 'components/Button';\n\nfunction CustomLeftPanelOperations({ pageNumbers, operations }) {\n  return (\n    <>\n      {operations.map((operation, index) => {\n        return (\n          <Button\n            key={index}\n            className={'button-hover'}\n            dataElement={operation.dataElement}\n            img={operation.img}\n            onClick={() => operation.onClick(pageNumbers)}\n            title={operation.title}\n          />);\n      })\n      }\n    </>\n  );\n}\n\nexport default CustomLeftPanelOperations;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsRotate({ onRotateClockwise, onRotateCounterClockwise }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateCounterClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n        onClick={onRotateCounterClockwise}\n        title=\"action.rotateCounterClockwise\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n        onClick={onRotateClockwise}\n        title=\"action.rotateClockwise\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsRotate;\n","import React from 'react';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport LeftPanelPageTabsMoreSmall from '../LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall';\nimport LeftPanelPageTabsInsertSmall from '../LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\n\nfunction InitialLeftPanelPageTabsSmall({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsSmall(props) {\n  const { pageNumbers, multiPageManipulationControlsItemsSmall, onRotateClockwise, onRotateCounterClockwise } = props;\n  return (\n    <div className={'PageControlContainer root small'}>\n      <InitialLeftPanelPageTabsSmall pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItemsSmall}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise}\n          onRotateCounterClockwise={onRotateCounterClockwise}\n          dataElement=\"leftPanelPageTabsRotate\"/>\n        <LeftPanelPageTabsInsertSmall dataElement=\"leftPanelPageTabsInsertSmall\" />\n        <LeftPanelPageTabsMoreSmall dataElement=\"leftPanelPageTabsMoreSmall\" />\n      </InitialLeftPanelPageTabsSmall>\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsSmall;\n","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMore() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMore;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsMove({ moveToTop, moveToBottom }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToTop\"\n        img=\"icon-page-move-up\"\n        onClick={moveToTop}\n        title=\"action.moveToTop\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToBottom\"\n        img=\"icon-page-move-down\"\n        onClick={moveToBottom}\n        title=\"action.moveToBottom\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsMove;\n","import React from 'react';\n\nimport LeftPanelPageTabsMore from '../LeftPanelPageTabsMore/LeftPanelPageTabsMore';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from 'components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabs(props) {\n  const {\n    pageNumbers,\n    onRotateClockwise,\n    onRotateCounterClockwise,\n    multiPageManipulationControlsItems,\n    moveToTop,\n    moveToBottom\n  } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\"/>\n        <LeftPanelPageTabsMore dataElement=\"leftPanelPageTabsMore\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabs;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsert({ onInsert }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsInsert;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsOperations({ onInsert, onReplace, onExtractPages, onDeletePages }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlReplace\"\n        img=\"icon-page-replacement\"\n        onClick={onReplace}\n        title=\"action.replace\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlExtract\"\n        img=\"icon-page-manipulation-extract\"\n        onClick={onExtractPages}\n        title=\"action.extract\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlDelete\"\n        img=\"icon-delete-line\"\n        onClick={onDeletePages}\n        title=\"action.delete\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsOperations;\n","import React from 'react';\n\nimport LeftPanelPageTabsInsert from '../LeftPanelPageTabsInsert/LeftPanelPageTabsInsert';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsOperations from '../LeftPanelPageTabsOperations/LeftPanelPageTabsOperations';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from '../LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsLarge(props) {\n  const { pageNumbers, onRotateClockwise, onRotateCounterClockwise, onInsert, onReplace, onExtractPages, onDeletePages, moveToTop, moveToBottom, multiPageManipulationControlsItems } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsInsert onInsert={onInsert} dataElement=\"leftPanelPageTabsInsert\" />\n        <LeftPanelPageTabsOperations onInsert={onInsert} onReplace={onReplace} onExtractPages={onExtractPages} onDeletePages={onDeletePages} dataElement=\"leftPanelPageTabsOperations\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabsLarge;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport {\n  deletePages,\n  extractPages,\n  noPagesSelectedWarning,\n  replace,\n  rotateClockwise,\n  rotateCounterClockwise,\n  movePagesToBottom,\n  movePagesToTop\n} from 'helpers/pageManipulationFunctions';\nimport LeftPanelPageTabsSmall from 'src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport LeftPanelPageTabsRotate from 'components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsLarge from './LeftPanelPageTabsLarge/LeftPanelPageTabsLarge';\nimport DataElements from 'constants/dataElement';\nimport { panelMinWidth } from 'constants/panel';\nimport { isMobile as isInMobile } from 'helpers/device';\nimport getRootNode from 'helpers/getRootNode';\n\n// Values come from the CSS\nconst WIDTH_MARGINS = 16 + 8 + 16 + 16 + 16 + 16;\n\nfunction LeftPanelPageTabsContainer({ parentElement }) {\n  const dispatch = useDispatch();\n  const isMobile = isInMobile();\n  const [\n    selectedPageIndexes,\n    panelWidth,\n    deleteModalEnabled,\n    multiPageManipulationControlsItems,\n    multiPageManipulationControlsSmall,\n    multiPageManipulationControlsLarge,\n    isDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    !parentElement || parentElement === 'leftPanel' ? selectors.getLeftPanelWidth(state) : selectors.getPanelWidth(state, parentElement),\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getMultiPageManipulationControlsItems(state),\n    selectors.getMultiPageManipulationControlsItemsSmall(state),\n    selectors.getMultiPageManipulationControlsItemsLarge(state),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const pageNumbers = selectedPageIndexes.map((index) => index + 1);\n\n  const openInsertPageModal = () => {\n    dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n    dispatch(actions.openElement('insertPageModal'));\n  };\n\n  const onReplace = () => !noPagesSelectedWarning(pageNumbers, dispatch) && replace(dispatch);\n  const onExtractPages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && extractPages(pageNumbers, dispatch);\n  const onDeletePages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && deletePages(pageNumbers, dispatch, deleteModalEnabled);\n  const onRotateClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateClockwise(pageNumbers);\n  const onRotateCounterClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateCounterClockwise(pageNumbers);\n  const onInsert = () => !noPagesSelectedWarning(pageNumbers, dispatch) && openInsertPageModal();\n  const moveToTop = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToTop(pageNumbers);\n  const moveToBottom = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToBottom(pageNumbers);\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className={'PageControlContainer root small'}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} />\n      </div>\n    );\n  }\n\n  const smallBreakPoint = 190;\n  const largeBreakPoint = 290;\n  let widthMinusMargins;\n  if (!isDesktopOnlyMode && isMobile) {\n    try {\n      const appRect = getRootNode().querySelector('.App').getBoundingClientRect();\n      widthMinusMargins = appRect.width - WIDTH_MARGINS;\n    } catch (e) {\n      widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n    }\n  } else {\n    widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n  }\n  const isPanelSmall = widthMinusMargins < smallBreakPoint;\n  const isPanelLarge = widthMinusMargins > largeBreakPoint;\n\n  const childProps = {\n    onReplace,\n    onExtractPages,\n    onDeletePages,\n    onRotateCounterClockwise,\n    onRotateClockwise,\n    onInsert,\n    moveToTop,\n    moveToBottom,\n    pageNumbers,\n  };\n\n  if (isPanelSmall) {\n    return <LeftPanelPageTabsSmall\n      {...childProps}\n      multiPageManipulationControlsItemsSmall={multiPageManipulationControlsSmall}\n    />;\n  }\n\n  if (isPanelLarge) {\n    return <LeftPanelPageTabsLarge\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsLarge}\n    />;\n  }\n\n\n  return (\n    <LeftPanelPageTabs\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsItems}\n    />\n  );\n}\n\nexport default LeftPanelPageTabsContainer;\n","import LeftPanelPageTabsContainer from './LeftPanelPageTabsContainer';\n\nexport default LeftPanelPageTabsContainer;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport pageNumberPlaceholder from 'constants/pageNumberPlaceholder';\nimport core from 'src/core';\nimport { useTranslation } from 'react-i18next';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs';\nimport './DocumentControls.scss';\n\nfunction getPageString(selectedPageArray, pageLabels) {\n  let pagesToPrint = '';\n  const sortedPages = selectedPageArray.sort((a, b) => a - b);\n  let prevIndex = null;\n\n  for (let i = 0; sortedPages.length > i; i++) {\n    if (sortedPages[i + 1] === sortedPages[i] + 1) {\n      prevIndex = prevIndex !== null ? prevIndex : sortedPages[i];\n    } else if (prevIndex !== null) {\n      pagesToPrint = `${pagesToPrint}${pageLabels[prevIndex]}-${pageLabels[sortedPages[i]]}, `;\n      prevIndex = null;\n    } else {\n      pagesToPrint = `${pagesToPrint}${pageLabels[sortedPages[i]]}, `;\n    }\n  }\n\n  return pagesToPrint.slice(0, -2);\n}\n\nconst DocumentControls = ({ shouldShowControls, parentElement }) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [\n    selectedPageIndexes,\n    isDisabled,\n    pageLabels,\n    isThumbnailSelectingPages,\n    featureFlags,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.isElementDisabled(state, 'documentControl'),\n    selectors.getPageLabels(state),\n    selectors.isThumbnailSelectingPages(state),\n    selectors.getFeatureFlags(state),\n  ]);\n\n  const initialPagesString = getPageString(selectedPageIndexes, pageLabels);\n\n  const [pageString, setPageString] = useState(initialPagesString);\n  const [previousPageString, setPreviousPageString] = useState(initialPagesString);\n  const customizableUI = featureFlags.customizableUI;\n\n  useEffect(() => {\n    setPageString(getPageString(selectedPageIndexes, pageLabels));\n  }, [setPageString, selectedPageIndexes, shouldShowControls, pageLabels]);\n\n  const onBlur = (e) => {\n    const selectedPagesString = e.target.value.replace(/ /g, '');\n    const pages = !selectedPagesString ? [] : getPageArrayFromString(selectedPagesString, pageLabels);\n    const pageIndexes = pages.map((page) => page - 1);\n\n    if (pages.length || !selectedPagesString) {\n      dispatch(actions.setSelectedPageThumbnails(pageIndexes));\n\n      const updatedString = getPageString(selectedPageIndexes, pageLabels);\n\n      setPageString(updatedString);\n      setPreviousPageString(updatedString);\n    } else {\n      setPageString(previousPageString);\n    }\n\n    if (selectedPageIndexes.length > 0 && !isThumbnailSelectingPages) {\n      // set a short timeout due to race condition caused by onBlur and\n      // changing the documentControlsButton based on isThumbnailSelectingPages\n      setTimeout(() => {\n        enableThumbnailSelectingPages();\n      }, 100);\n    }\n  };\n\n  const pageStringUpdate = (e) => {\n    setPageString(e.target.value);\n  };\n\n  const disableThumbnailSelectingPages = () => {\n    dispatch(actions.setSelectedPageThumbnails([core.getCurrentPage() - 1]));\n    dispatch(actions.setThumbnailSelectingPages(false));\n  };\n\n  const enableThumbnailSelectingPages = () => {\n    dispatch(actions.setThumbnailSelectingPages(true));\n  };\n\n  return isDisabled ? null : (\n    <div className={'documentControlsContainer'} data-element={'documentControl'}>\n      {shouldShowControls ? (\n        <div className={'documentControls'}>\n          <div className={'divider'}></div>\n          {isThumbnailSelectingPages && <LeftPanelPageTabs parentElement={parentElement} />}\n          {customizableUI &&\n            <label className={'documentControlsLabel'} htmlFor=\"pageNumbersInput\">\n              <span>\n                {t('option.thumbnailPanel.multiSelectPages')} -\n              </span>\n              <span className='multiSelectExampleLabel'>\n                {t('option.thumbnailPanel.multiSelectPagesExample')}\n              </span>\n            </label>\n          }\n          <div className={'documentControlsInput'}>\n            <input\n              name=\"pageNumbersInput\"\n              onBlur={onBlur}\n              onChange={pageStringUpdate}\n              value={pageString}\n              placeholder={customizableUI ? '' : pageNumberPlaceholder}\n              aria-label={t('option.thumbnailPanel.enterPageNumbers')}\n              className=\"pagesInput\"\n              type=\"text\"\n            />\n            <div className={'documentControlsButton'}>\n              {!isThumbnailSelectingPages ? (\n                <Button\n                  img={'icon-tool-select-pages'}\n                  title={'option.documentControls.selectTooltip'}\n                  onClick={enableThumbnailSelectingPages}\n                  dataElement={'thumbMultiSelect'}\n                />\n              ) : (\n                <Button\n                  img={'icon-close'}\n                  title={'option.documentControls.closeTooltip'}\n                  onClick={disableThumbnailSelectingPages}\n                  dataElement={'thumbCloseMultiSelect'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nDocumentControls.propTypes = {\n  isDisabled: PropTypes.bool,\n  pageLabels: PropTypes.arrayOf(PropTypes.string),\n  toggleDocumentControl: PropTypes.func,\n  shouldShowControls: PropTypes.bool,\n};\n\nexport default DocumentControls;\n","export default '1, 3, 5-10';","import DocumentControls from './DocumentControls';\n\nexport default DocumentControls;","import core from 'core';\nimport actions from 'actions';\nimport extractPagesWithAnnotations from './extractPagesWithAnnotations';\nimport fireEvent from './fireEvent';\nimport Events from 'constants/events';\nimport DataElements from 'src/constants/dataElement';\n\nexport const extractPagesToMerge = (pageNumbers) => {\n  // extract pages and put the data on the iFrame window element for another instance of WebViewer to access\n  window.extractedDataPromise = extractPagesWithAnnotations(pageNumbers);\n  window.pagesExtracted = pageNumbers;\n};\n\nexport const mergeDocument = (srcToMerge, mergeToPage, shouldFireEvent = true) => (dispatch) => {\n  dispatch(actions.openElement(DataElements.LOADING_MODAL));\n\n  return new Promise((resolve, reject) => {\n    core.mergeDocument(srcToMerge, mergeToPage).then((mergeResults) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      core.setCurrentPage(mergeToPage);\n\n      if (shouldFireEvent) {\n        fireEvent(Events.DOCUMENT_MERGED, mergeResults);\n      }\n\n      resolve(mergeResults);\n    }).catch((err) => {\n      reject(err);\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n    });\n  });\n};\n\nexport const mergeExternalWebViewerDocument = (viewerID, mergeToPage) => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    const otherWebViewerIframe = window.parent.document.querySelector(`#${viewerID}`);\n    if (!otherWebViewerIframe) {\n      console.warn('Could not find other instance of WebViewer');\n      reject();\n    }\n\n    const extractedDataPromise = otherWebViewerIframe.contentWindow.extractedDataPromise;\n    if (!extractedDataPromise) {\n      console.warn('Could not retrieve data from other instance of WebViewer');\n      reject();\n    }\n\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    extractedDataPromise.then((docToMerge) => {\n      dispatch(mergeDocument(docToMerge, mergeToPage, false)).then(({ filename, pages }) => {\n        fireEvent(Events.DOCUMENT_MERGED, { filename, pages: otherWebViewerIframe.contentWindow.pagesExtracted });\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n        resolve({ filename, pages });\n      });\n    }).catch((err) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      reject(err);\n    });\n  });\n};","import debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { List } from 'react-virtualized';\nimport Measure from 'react-measure';\nimport classNames from 'classnames';\nimport { isIE11 } from 'helpers/device';\n\nimport Thumbnail from 'components/Thumbnail';\nimport DocumentControls from 'components/DocumentControls';\nimport Button from 'components/Button';\nimport Slider from 'components/Slider';\n\nimport core from 'core';\nimport { extractPagesToMerge, mergeDocument, mergeExternalWebViewerDocument } from 'helpers/pageManipulation';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport Events from 'constants/events';\nimport DataElements from 'constants/dataElement';\nimport { circleRadius } from 'constants/slider';\nimport fireEvent from 'helpers/fireEvent';\n\nimport './ThumbnailsPanel.scss';\nimport getRootNode from 'helpers/getRootNode';\nimport { useTranslation } from 'react-i18next';\n\nconst dataTransferWebViewerFrameKey = 'dataTransferWebViewerFrame';\n\nconst ZOOM_RANGE_MIN = '100';\nconst ZOOM_RANGE_MAX = '1000';\nconst ZOOM_RANGE_STEP = '50';\nconst MAX_COLUMNS = 16;\n\nconst hoverAreaHeight = 25;\n\nconst ThumbnailsPanel = ({ panelSelector, parentDataElement }) => {\n  const [\n    isLeftPanelOpen,\n    isDisabled,\n    totalPages,\n    currentPage,\n    selectedPageIndexes,\n    isThumbnailMergingEnabled,\n    isThumbnailReorderingEnabled,\n    isMultipleViewerMerging,\n    isThumbnailControlDisabled,\n    isThumbnailSliderDisabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    totalPagesFromSecondaryDocumentViewer,\n    activeDocumentViewerKey,\n    isRightClickEnabled,\n    featureFlags,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'leftPanel'),\n      selectors.isElementDisabled(state, 'thumbnailsPanel'),\n      selectors.getTotalPages(state),\n      selectors.getCurrentPage(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.getIsThumbnailMergingEnabled(state),\n      selectors.getIsThumbnailReorderingEnabled(state),\n      selectors.getIsMultipleViewerMerging(state),\n      selectors.isElementDisabled(state, 'thumbnailControl'),\n      selectors.isElementDisabled(state, 'thumbnailsSizeSlider'),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getTotalPages(state, 2),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.openingPageManipulationOverlayByRightClickEnabled(state),\n      selectors.getFeatureFlags(state),\n    ],\n    shallowEqual,\n  );\n\n  const [t] = useTranslation();\n\n  const listRef = useRef();\n  const pendingThumbs = useRef([]);\n  const thumbs = useRef([]);\n  const afterMovePageNumber = useRef(null);\n\n  const [isOfficeEditor, setIsOfficeEditor] = useState(false);\n  const [canLoad, setCanLoad] = useState(true);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [draggingOverPageIndex, setDraggingOverPageIndex] = useState(null);\n  const [isDraggingToPreviousPage, setDraggingToPreviousPage] = useState(false);\n  const [numberOfColumns, setNumberOfColumns] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const [thumbnailSize, setThumbnailSize] = useState(150);\n  const [lastTimeTriggered, setLastTimeTriggered] = useState(0);\n  const [globalIndex, setGlobalIndex] = useState(0);\n  const pageCount = activeDocumentViewerKey === 2 ? totalPagesFromSecondaryDocumentViewer : totalPages;\n  const customizableUI = featureFlags?.customizableUI;\n\n  const dispatch = useDispatch();\n\n  // If memory becomes an issue, change this to use pageNumbers.\n  // Instead of a debounced drawAnnotations function, perhaps use\n  // a function that first checks for the pageNumber in this map\n  // before calling drawAnnotations on a page.\n  let activeThumbRenders = {};\n\n  const getThumbnailSize = (pageWidth, pageHeight) => {\n    let width;\n    let height;\n    let ratio;\n\n    if (pageWidth > pageHeight) {\n      ratio = pageWidth / thumbnailSize;\n      width = thumbnailSize;\n      height = Math.round(pageHeight / ratio);\n    } else {\n      ratio = pageHeight / thumbnailSize;\n      width = Math.round(pageWidth / ratio); // Chrome has trouble displaying borders of non integer width canvases.\n      height = thumbnailSize;\n    }\n\n    return {\n      width,\n      height,\n    };\n  };\n\n  const updateAnnotations = (pageIndex) => {\n    const thumbContainer = thumbs.current && thumbs.current[pageIndex] && thumbs.current[pageIndex].element;\n    if (!thumbContainer) {\n      return;\n    }\n\n    const pageNumber = pageIndex + 1;\n    const pageWidth = core.getPageWidth(pageNumber);\n    const pageHeight = core.getPageHeight(pageNumber);\n\n    const { width, height } = getThumbnailSize(pageWidth, pageHeight);\n\n    const annotCanvas = thumbContainer.querySelector('.annotation-image') || document.createElement('canvas');\n    annotCanvas.className = 'annotation-image';\n    annotCanvas.role = 'img';\n    annotCanvas.ariaLabel = `${t('action.page')} ${pageNumber}`;\n    annotCanvas.style.maxWidth = `${thumbnailSize}px`;\n    annotCanvas.style.maxHeight = `${thumbnailSize}px`;\n    const ctx = annotCanvas.getContext('2d');\n\n    let zoom = 1;\n    let rotation = core.getCompleteRotation(pageNumber);\n    if (rotation < 0) {\n      rotation += 4;\n    }\n    const multiplier = window.Core.getCanvasMultiplier();\n\n    if (rotation % 2 === 0) {\n      annotCanvas.width = width;\n      annotCanvas.height = height;\n      zoom = annotCanvas.width / pageWidth;\n      zoom /= multiplier;\n    } else {\n      annotCanvas.width = height;\n      annotCanvas.height = width;\n\n      zoom = annotCanvas.height / pageWidth;\n      zoom /= multiplier;\n    }\n\n    thumbContainer.appendChild(annotCanvas);\n    core.setAnnotationCanvasTransform(ctx, zoom, rotation);\n\n    let options = {\n      pageNumber,\n      overrideCanvas: annotCanvas,\n    };\n\n    const thumb = thumbContainer.querySelector('.page-image');\n\n    if (thumb) {\n      options = {\n        ...options,\n        overridePageRotation: rotation,\n        overridePageCanvas: thumb,\n      };\n    } else {\n      return;\n    }\n\n    if (!activeThumbRenders[pageNumber]) {\n      activeThumbRenders[pageNumber] = debounce(core.drawAnnotations, 112);\n    }\n    const debouncedDraw = activeThumbRenders[pageNumber];\n    debouncedDraw(options);\n  };\n\n  useEffect(() => {\n    const onBeginRendering = () => {\n      setCanLoad(false);\n    };\n\n    const onFinishedRendering = (needsMoreRendering) => {\n      if (!needsMoreRendering) {\n        setCanLoad(true);\n      }\n    };\n\n    const onDocumentLoaded = () => {\n      if (core.getDocument()?.getType() === 'officeEditor') {\n        setIsOfficeEditor(true);\n      } else {\n        setIsOfficeEditor(false);\n      }\n      activeThumbRenders = {};\n      dispatch(actions.setSelectedPageThumbnails([]));\n    };\n\n    const onPageComplete = () => {\n      if (afterMovePageNumber.current) {\n        core.setCurrentPage(afterMovePageNumber.current);\n        afterMovePageNumber.current = null;\n      }\n    };\n\n    core.addEventListener('beginRendering', onBeginRendering);\n    core.addEventListener('finishedRendering', onFinishedRendering);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('pageComplete', onPageComplete);\n\n\n    // The document might have already been loaded before this component is mounted.\n    // If document is already loaded, call 'onDocumentLoaded()' manually to update the state properly.\n    if (core.getDocument()) {\n      onDocumentLoaded();\n    }\n\n    return () => {\n      core.removeEventListener('beginRendering', onBeginRendering);\n      core.removeEventListener('finishedRendering', onFinishedRendering);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('pageComplete', onPageComplete);\n    };\n  }, []);\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      if (!changes) {\n        return;\n      }\n      let updatedPagesIndexes = Array.from(selectedPageIndexes);\n\n      if (changes.removed) {\n        updatedPagesIndexes = updatedPagesIndexes.filter((pageIndex) => changes.removed.indexOf(pageIndex + 1) === -1);\n      }\n\n      if (changes.moved) {\n        updatedPagesIndexes = updatedPagesIndexes.map((pageIndex) => (changes.moved[pageIndex + 1] ? changes.moved[pageIndex + 1] - 1 : pageIndex),\n        );\n      }\n\n      const isPageAddedBefore = changes.added && (changes.added[0] - 1) <= updatedPagesIndexes[0];\n      if (updatedPagesIndexes.length === 1 && isPageAddedBefore) {\n        updatedPagesIndexes = changes.added.map((pageNumber) => pageNumber - 1);\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedPagesIndexes));\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n\n    return () => core.removeEventListener('pagesUpdated', onPagesUpdated);\n  }, [selectedPageIndexes]);\n\n  useEffect(() => {\n    listRef.current?.scrollToRow(Math.floor((currentPage - 1) / numberOfColumns));\n    const onAnnotationChanged = (annots) => {\n      const indices = [];\n\n      annots.forEach((annot) => {\n        const pageIndex = annot.PageNumber - 1;\n        if (!annot.Listable || indices.indexOf(pageIndex) > -1) {\n          return;\n        }\n        indices.push(pageIndex);\n\n        updateAnnotations(pageIndex);\n      });\n    };\n\n    const onPageNumberUpdated = (pageNumber) => {\n      const pageIndex = pageNumber - 1;\n      listRef.current?.scrollToRow(Math.floor(pageIndex / numberOfColumns));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('annotationHidden', onAnnotationChanged);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('annotationHidden', onAnnotationChanged);\n    };\n  }, [thumbnailSize, numberOfColumns]);\n\n  useEffect(() => {\n    if (isReaderMode || isDocumentReadOnly) {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setThumbnailSelectingPages(false));\n    }\n  }, [isReaderMode, isDocumentReadOnly]);\n\n  // if disabled, or is office editor or left panel is not open when we are not in customize mode, return\n  if (isDisabled || isOfficeEditor || (!isLeftPanelOpen && !panelSelector && !customizableUI)) {\n    return null;\n  }\n  const onDragEnd = () => {\n    setIsDragging(false);\n    setDraggingOverPageIndex(null);\n  };\n\n  const scrollToRowHelper = (index, change, time) => {\n    const now = new Date().getTime();\n    if (index < pageCount - 1 && index > 0 && now - lastTimeTriggered >= time) {\n      listRef.current?.scrollToRow(Math.floor((index + change) / numberOfColumns));\n      setLastTimeTriggered(now);\n      return index + change;\n    }\n    return index;\n  };\n\n  const onDragOver = (e, index) => {\n    // 'preventDefault' to prevent opening pdf dropped in and 'stopPropagation' to keep parent from opening pdf\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isThumbnailReorderingEnabled && !isThumbnailMergingEnabled) {\n      return;\n    }\n\n    const thumbnail = e.target.getBoundingClientRect();\n    if (numberOfColumns > 1) {\n      // row with more than 1 thumbnail so user are dragging to the left and right\n      setDraggingToPreviousPage(!(e.pageX > thumbnail.x + thumbnail.width / 2));\n    } else {\n      setDraggingToPreviousPage(!(e.pageY > thumbnail.y + thumbnail.height / 2));\n    }\n\n    setDraggingOverPageIndex(index);\n    const virtualizedThumbnailContainerElement = getRootNode().querySelector('#virtualized-thumbnails-container');\n    const { y, bottom } = virtualizedThumbnailContainerElement.getBoundingClientRect();\n\n    if (e.pageY < y + hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, -1, 400));\n    } else if (e.pageY > bottom - hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, 1, 400));\n    }\n  };\n\n  const scrollDown = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, 1, 200));\n  };\n  const scrollUp = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, -1, 200));\n  };\n\n  const onDragStart = (e, index) => {\n    setGlobalIndex(index);\n    setIsDragging(true);\n    const draggingSelectedPage = selectedPageIndexes.some((i) => i === index);\n    const pagesToMove = draggingSelectedPage ? selectedPageIndexes.map((index) => index + 1) : [index + 1];\n    fireEvent(Events.THUMBNAIL_DRAGGED);\n    // need to set 'text' to empty for drag to work in FireFox and mobile\n    e.dataTransfer.setData('text', '');\n\n    if (pagesToMove.length > 1) {\n      // can't set to null so set to new instance of an image\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n    }\n\n    if (isThumbnailMergingEnabled && isMultipleViewerMerging) {\n      e.dataTransfer.dropEffect = 'move';\n      e.dataTransfer.effectAllowed = 'all';\n      e.dataTransfer.setData(dataTransferWebViewerFrameKey, window.frameElement.id);\n      extractPagesToMerge(pagesToMove);\n    }\n\n    if (!draggingSelectedPage) {\n      dispatch(actions.setSelectedPageThumbnails([index]));\n    }\n\n    core.setCurrentPage(index + 1);\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n    const insertTo = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n    let externalPageWebViewerFrameId;\n    if (!isIE11) {\n      // at this time of writing, IE11 does not really have support for getData\n      externalPageWebViewerFrameId = e.dataTransfer.getData(dataTransferWebViewerFrameKey);\n    }\n    const mergingDocument =\n      (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) || files.length;\n    const currentPageIndex = currentPage - 1;\n\n    if (isThumbnailMergingEnabled && mergingDocument) {\n      if (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) {\n        dispatch(mergeExternalWebViewerDocument(externalPageWebViewerFrameId, insertTo));\n      } else if (files.length) {\n        Array.from(files).forEach((file) => {\n          dispatch(mergeDocument(file, insertTo));\n        });\n      }\n    } else if (isThumbnailReorderingEnabled && !mergingDocument) {\n      if (draggingOverPageIndex !== null) {\n        const targetPageNumber = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n        const draggingSelectedPage = selectedPageIndexes.some((i) => i === currentPageIndex);\n        const pageNumbersToMove = draggingSelectedPage ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n        afterMovePageNumber.current = targetPageNumber - pageNumbersToMove.filter((p) => p < targetPageNumber).length;\n        core.movePages(pageNumbersToMove, targetPageNumber);\n        const updatedPagesNumbers = [];\n        for (let offset = 0; offset < pageNumbersToMove.length; offset++) {\n          updatedPagesNumbers.push(afterMovePageNumber.current + offset);\n        }\n        fireEvent(Events.THUMBNAIL_DROPPED, { pageNumbersBeforeMove: pageNumbersToMove, pagesNumbersAfterMove: updatedPagesNumbers, numberOfPagesMoved: updatedPagesNumbers.length });\n      }\n    }\n    setDraggingOverPageIndex(null);\n    setIsDragging(false);\n  };\n\n  const onLoad = (pageIndex, element, id) => {\n    if (!thumbIsLoaded(pageIndex) && !thumbIsPending(pageIndex)) {\n      thumbs.current[pageIndex] = {\n        element,\n        loaded: false,\n      };\n\n      pendingThumbs.current.push({\n        pageIndex,\n        id,\n      });\n    }\n  };\n\n  const removeFromPendingThumbs = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const thumbIsLoaded = (pageIndex) => thumbs.current[pageIndex]?.loaded;\n\n  const thumbIsPending = (pageIndex) => getPendingThumbIndex(pageIndex) !== -1;\n\n  const onCancel = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      core.cancelLoadThumbnail(pendingThumbs.current[index].id);\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const onRightClick = (event, pageIndex) => {\n    event.preventDefault();\n    core.setCurrentPage(pageIndex + 1);\n    if (!selectedPageIndexes.includes(pageIndex)) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n\n    if (isReaderMode || isDocumentReadOnly) {\n      return;\n    }\n\n    dispatch(actions.setPageManipulationOverlayAlternativePosition({ left: event.pageX, right: 'auto', top: event.pageY }));\n    dispatch(actions.openElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  };\n\n  const getPendingThumbIndex = (pageIndex) => pendingThumbs.current.findIndex((thumbStatus) => thumbStatus.pageIndex === pageIndex);\n\n  const onRemove = (pageIndex) => {\n    onCancel(pageIndex);\n    const canvases = thumbs.current[pageIndex]?.element?.querySelectorAll('canvas');\n    if (canvases?.length) {\n      canvases.forEach((c) => {\n        c.height = 0;\n        c.width = 0;\n      });\n    }\n\n    if (activeThumbRenders[pageIndex]) {\n      activeThumbRenders[pageIndex].cancel();\n    }\n    thumbs.current[pageIndex] = null;\n  };\n\n  const renderThumbnails = ({ index, key, style }) => {\n    const className = classNames({\n      columnsOfThumbnails: numberOfColumns > 1,\n      row: true,\n    });\n    const allowPageOperationsUI = !(isReaderMode || isDocumentReadOnly);\n\n    return (\n      <div role=\"row\" aria-label=\"row\" className={className} key={key} style={style}>\n        {new Array(numberOfColumns).fill().map((_, columnIndex) => {\n          const thumbIndex = index * numberOfColumns + columnIndex;\n          const allowDragAndDrop = allowPageOperationsUI && (isThumbnailMergingEnabled || isThumbnailReorderingEnabled);\n          const showPlaceHolder = allowDragAndDrop && draggingOverPageIndex === thumbIndex;\n\n          return thumbIndex < pageCount ? (\n            <React.Fragment key={thumbIndex}>\n              {(numberOfColumns > 1 || thumbIndex === 0) && showPlaceHolder && isDraggingToPreviousPage && <div key={`placeholder1-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n              <div key={thumbIndex} role=\"cell\" onDragEnd={onDragEnd} className=\"cellThumbContainer\" onContextMenu={(e) => isRightClickEnabled && onRightClick(e, thumbIndex)}>\n                <Thumbnail\n                  isDraggable={allowDragAndDrop}\n                  isSelected={selectedPageIndexes.includes(thumbIndex)}\n                  index={thumbIndex}\n                  canLoad={canLoad}\n                  onLoad={onLoad}\n                  onCancel={onCancel}\n                  onRemove={onRemove}\n                  onDragStart={onDragStart}\n                  onDragOver={onDragOver}\n                  onFinishLoading={removeFromPendingThumbs}\n                  updateAnnotations={updateAnnotations}\n                  shouldShowControls={allowPageOperationsUI}\n                  thumbnailSize={thumbnailSize}\n                  panelSelector={panelSelector}\n                />\n              </div>\n              {showPlaceHolder && !isDraggingToPreviousPage && <div key={`placeholder2-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n            </React.Fragment>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\n  const onPanelResize = ({ bounds }) => {\n    setHeight(bounds.height);\n    setWidth(bounds.width);\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(bounds.width / thumbnailSize))));\n  };\n\n  const updateNumberOfColumns = () => {\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(width / thumbnailSize))));\n  };\n\n  const thumbnailHeight = isThumbnailControlDisabled ? Number(thumbnailSize) + 50 : Number(thumbnailSize) + 80;\n  const shouldShowControls = !(isReaderMode || isDocumentReadOnly);\n  const thumbnailAutoScrollAreaStyle = {\n    'height': `${hoverAreaHeight}px`,\n  };\n  const lineStart = circleRadius;\n\n  const onSliderChange = (property, value) => {\n    let zoomValue = Number(value) * ZOOM_RANGE_MAX;\n    if (zoomValue < 100) {\n      zoomValue = 100;\n    }\n    setThumbnailSize(zoomValue);\n    updateNumberOfColumns();\n  };\n\n  return (\n    <React.Fragment>\n      {!isThumbnailSliderDisabled && <div data-element=\"thumbnailsSizeSlider\" className=\"thumbnail-slider-container\">\n        <Button\n          img=\"icon-zoom-thumb-out\"\n          title=\"action.zoomOut\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize - ZOOM_RANGE_STEP > ZOOM_RANGE_STEP) {\n              setThumbnailSize(thumbnailSize - ZOOM_RANGE_STEP);\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbOutButton\"\n        />\n        {customizableUI &&\n          <Slider\n            dataElement={'thumbnailsSizeSlider'}\n            property={'zoom'}\n            displayProperty={'zoom'}\n            min={Number(ZOOM_RANGE_MIN)}\n            max={Number(ZOOM_RANGE_MAX)}\n            value={thumbnailSize}\n            getDisplayValue={() => thumbnailSize}\n            customCircleRadius={8}\n            customLineStrokeWidth={4}\n            getCirclePosition={(lineLength, zoom) => {\n              if (zoom > 1) {\n                zoom /= 1000;\n              }\n              return zoom * lineLength + lineStart;\n            }\n            }\n            convertRelativeCirclePositionToValue={(circlePosition) => circlePosition}\n            onSliderChange={onSliderChange}\n            onStyleChange={onSliderChange}\n            step={Number(ZOOM_RANGE_STEP)}\n            shouldHideSliderTitle={true}\n            shouldHideSliderValue={true}\n          />\n        }\n        {!customizableUI &&\n          <input\n            role='slider'\n            type=\"range\"\n            aria-label='thumbnail size slider'\n            min={ZOOM_RANGE_MIN}\n            max={ZOOM_RANGE_MAX}\n            value={thumbnailSize}\n            aria-valuemin={ZOOM_RANGE_MIN}\n            aria-valuemax={ZOOM_RANGE_MAX}\n            aria-valuenow={thumbnailSize}\n            onChange={(e) => {\n              setThumbnailSize(Number(e.target.value));\n              updateNumberOfColumns();\n            }}\n            step={ZOOM_RANGE_STEP}\n            className=\"thumbnail-slider\"\n            id=\"thumbnailSize\"\n          />\n        }\n        <Button\n          img=\"icon-zoom-thumb-in\"\n          title=\"action.zoomIn\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize + Number(ZOOM_RANGE_STEP) < 1001) {\n              setThumbnailSize(thumbnailSize + Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbInButton\"\n        />\n      </div>}\n      <Measure bounds onResize={onPanelResize} key={thumbnailSize}>\n        {({ measureRef }) => (\n          <div className={`Panel ThumbnailsPanel ${panelSelector}`} id=\"virtualized-thumbnails-container\" data-element=\"thumbnailsPanel\" onDrop={onDrop} ref={measureRef}>\n            <div className=\"virtualized-thumbnails-container\">\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollUp} style={thumbnailAutoScrollAreaStyle}></div> : ''\n              }\n              <List\n                ref={listRef}\n                height={height}\n                width={width}\n                rowHeight={thumbnailHeight}\n                // Round it to a whole number because React-Virtualized list library doesn't round it for us and throws errors when rendering non whole number rows\n                // use ceiling rather than floor so that an extra row can be created in case the items can't be evenly distributed between rows\n                rowCount={Math.ceil(pageCount / numberOfColumns)}\n                rowRenderer={renderThumbnails}\n                overscanRowCount={3}\n                className={'thumbnailsList'}\n                style={{ outline: 'none' }}\n                // Ensure we show the current page in the thumbnails when we open the panel\n                scrollToIndex={Math.floor((currentPage - 1) / numberOfColumns)}\n                role='grid'\n                aria-label={t('component.thumbnailsPanel')}\n              />\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollDown} style={{ ...thumbnailAutoScrollAreaStyle, 'bottom': '70px' }}></div> : ''\n              }\n            </div>\n          </div>\n        )}\n      </Measure>\n      <DocumentControls shouldShowControls={shouldShowControls} parentElement={parentDataElement || panelSelector} />\n    </React.Fragment>\n  );\n};\n\nexport default ThumbnailsPanel;\n","import ThumbnailsPanel from './ThumbnailsPanel';\n\nexport default ThumbnailsPanel;\n"],"sourceRoot":""}