(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1579:function(e,a,t){var r=t(28),n=t(1694);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var l={insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let a;a=document.getElementsByTagName("apryse-webviewer"),a.length||(a=function e(a,t=document){const r=[];return t.querySelectorAll(a).forEach(e=>r.push(e)),t.querySelectorAll("*").forEach(t=>{t.shadowRoot&&r.push(...e(a,t.shadowRoot))}),r}("apryse-webviewer"));const t=[];for(let r=0;r<a.length;r++){const n=a[r];if(0===r)n.shadowRoot.appendChild(e),e.onload=function(){t.length>0&&t.forEach(a=>{a.innerHTML=e.innerHTML})};else{const a=e.cloneNode(!0);n.shadowRoot.appendChild(a),t.push(a)}}},singleton:!1};r(n,l);e.exports=n.locals||{}},1694:function(e,a,t){(a=e.exports=t(29)(!1)).push([e.i,".ScaleOverlay{position:absolute;z-index:95;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background)}.open.ScaleOverlay{visibility:visible}.closed.ScaleOverlay{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ScaleOverlay .scale-overlay-footer .calibration-apply:enabled:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.ScaleOverlay .scale-overlay-footer .calibration-apply:disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.ScaleOverlay .scale-overlay-footer .calibration-apply:disabled span{color:var(--primary-button-text)}.ScaleOverlay .scale-overlay-header .add-new-scale:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.ScaleOverlay{flex-direction:column;padding:var(--padding-small) var(--padding-medium)}.ScaleOverlay button{cursor:pointer}.ScaleOverlay .divider{width:calc(100% + 1.375rem);height:1px;margin-left:-1rem;background:var(--gray-5);margin-top:12px}.ScaleOverlay[\\:has\\(.scale-overlay-calibrate\\)]{padding:var(--padding-medium) 0}.ScaleOverlay:has(.scale-overlay-calibrate){padding:var(--padding-medium) 0}.ScaleOverlay[\\:has\\(.scale-overlay-calibrate\\)] .scale-overlay-content,.ScaleOverlay[\\:has\\(.scale-overlay-calibrate\\)] .scale-overlay-footer,.ScaleOverlay[\\:has\\(.scale-overlay-calibrate\\)] .scale-overlay-header{padding:0 var(--padding-medium)}.ScaleOverlay:has(.scale-overlay-calibrate) .scale-overlay-content,.ScaleOverlay:has(.scale-overlay-calibrate) .scale-overlay-footer,.ScaleOverlay:has(.scale-overlay-calibrate) .scale-overlay-header{padding:0 var(--padding-medium)}.ScaleOverlay[\\:has\\(.scale-overlay-calibrate\\)] .divider{width:100%;margin-left:0}.ScaleOverlay:has(.scale-overlay-calibrate) .divider{width:100%;margin-left:0}.ScaleOverlay .scale-overlay-header{position:relative;display:flex;flex-direction:row;justify-content:left;font-weight:400;align-items:center;grid-gap:var(--padding-small);gap:var(--padding-small)}.ScaleOverlay .scale-overlay-header .scale-overlay-title{color:var(--text-color);font-weight:700}.ScaleOverlay .scale-overlay-header .add-new-scale{width:100%;padding:var(--padding-small) var(--padding);background-color:transparent;color:var(--secondary-button-text);font-weight:400;border:1px solid var(--secondary-button-border)}.ScaleOverlay .scale-overlay-header .add-new-scale:hover{border:1px solid var(--secondary-button-hover);box-shadow:none}.ScaleOverlay .scale-overlay-header .scale-overlay-icon,.ScaleOverlay .scale-overlay-header .scale-overlay-icon svg{width:24px;height:24px}.ScaleOverlay .scale-overlay-header .scale-overlay-selector{position:relative}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection{min-width:157px;background-color:transparent;border:1px solid var(--border);border-radius:var(--border-radius);line-height:32px;padding:0 var(--padding-small);color:var(--text-color);font-weight:400;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:hover .scale-overlay-arrow,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection[focus-within] .scale-overlay-arrow{outline:1px solid var(--primary-button-hover);border-radius:var(--border-radius)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:focus-within .scale-overlay-arrow,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:hover .scale-overlay-arrow{outline:1px solid var(--primary-button-hover);border-radius:var(--border-radius)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:hover .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection[focus-within] .Icon{color:var(--primary-button-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:focus-within .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection:hover .Icon{color:var(--primary-button-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-arrow{display:flex;justify-content:center;width:24px;height:24px;color:var(--text-color);cursor:pointer}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-arrow .Icon{width:16px;height:16px}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-list{display:flex;grid-row-gap:4px;row-gap:4px;flex-direction:column;border-top:1px solid transparent}.ScaleOverlay .scale-overlay-header .scale-overlay-selector ul{margin:0;list-style-type:none;position:absolute;min-width:157px;left:0;top:0;text-align:left;letter-spacing:0;display:none;border-radius:var(--border-radius);pointer-events:all;z-index:1000;background-color:var(--component-background);box-shadow:0 0 4px var(--box-shadow);padding-left:0;padding-bottom:var(--padding-small)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selected-arrow{border:0;padding:0;background-color:transparent;width:100%;height:100%}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selected-arrow .Icon{margin:auto}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-item,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li{display:flex;flex-direction:row;align-items:center;justify-content:space-between;height:32px;grid-column-gap:var(--padding-small);-moz-column-gap:var(--padding-small);column-gap:var(--padding-small)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li{line-height:32px;padding-left:var(--padding-small);padding-right:var(--padding-small);border:1px solid transparent}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:first-child:hover .scale-overlay-arrow{outline:1px solid var(--primary-button-hover);border-radius:var(--border-radius)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:first-child:hover .Icon{color:var(--primary-button-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child)[focus-within]{background-color:var(--scale-overlay-item-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):focus-within,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover{background-color:var(--scale-overlay-item-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .options,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child)[focus-within] .options{color:var(--dropdown-item-active-text)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):focus-within .options,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .options{color:var(--dropdown-item-active-text)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child)[focus-within] .Icon{color:var(--dropdown-item-active-icon)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):focus-within .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .Icon{color:var(--dropdown-item-active-icon)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .delete:hover:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .delete[focus-within]:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child)[focus-within] .delete:hover:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child)[focus-within] .delete[focus-within]:not(:disabled) .Icon{color:var(--icon-color)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):focus-within .delete:focus-within:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):focus-within .delete:hover:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .delete:focus-within:not(:disabled) .Icon,.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child):hover .delete:hover:not(:disabled) .Icon{color:var(--icon-color)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:last-child{height:32px}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .option-selected{background-color:var(--dropdown-item-active)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .option-selected .options{color:var(--dropdown-item-active-text)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .option-selected .Icon{color:var(--dropdown-item-active-icon)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .delete{width:24px;height:24px;border:none;background-color:transparent;padding:0;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .delete .Icon{width:16px;height:16px;display:flex}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:hover,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete[focus-within]{background-color:var(--popup-button-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:focus-within,.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:hover{background-color:var(--popup-button-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:disabled{background-color:transparent;cursor:not-allowed}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .options{border:none;background-color:transparent;padding:0;display:flex;align-items:center;justify-content:space-between;height:100%}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-value{margin-right:1px}.ScaleOverlay .scale-overlay-content{width:192px;min-height:32px;font-weight:400;font-size:13px;line-height:16px;margin-top:16px}.ScaleOverlay .scale-overlay-footer{margin-top:var(--padding-medium);display:flex;flex-direction:row;justify-content:space-between;width:220px;align-items:center}.ScaleOverlay .scale-overlay-footer .calibration-cancel{padding:0;background-color:transparent;border-radius:var(--border-radius);width:72px;height:32px;color:var(--secondary-button-text);cursor:pointer;border:none}:host(:not([data-tabbing=true])) .ScaleOverlay .scale-overlay-footer .calibration-cancel,html:not([data-tabbing=true]) .ScaleOverlay .scale-overlay-footer .calibration-cancel{outline:none}.ScaleOverlay .scale-overlay-footer .calibration-cancel:enabled:hover{color:var(--secondary-button-hover)}.ScaleOverlay .scale-overlay-footer .calibration-cancel:disabled{opacity:.5}.ScaleOverlay .scale-overlay-footer .calibration-apply{padding:0;border:none;background-color:transparent;background:var(--primary-button);border-radius:var(--border-radius);height:32px;width:72px;color:var(--primary-button-text);cursor:pointer}:host(:not([data-tabbing=true])) .ScaleOverlay .scale-overlay-footer .calibration-apply,html:not([data-tabbing=true]) .ScaleOverlay .scale-overlay-footer .calibration-apply{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ScaleOverlay .scale-overlay-footer .calibration-apply{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ScaleOverlay .scale-overlay-footer .calibration-apply{font-size:13px}}.ScaleOverlay .MeasurementDetail{word-wrap:break-word;flex-wrap:wrap;font-weight:400}.ScaleOverlay .MeasurementDetail .header{display:flex;justify-content:left;align-items:center;width:100%;margin-top:var(--padding-medium);font-weight:700;grid-gap:var(--padding-small);gap:var(--padding-small);font-size:13px}.ScaleOverlay .MeasurementDetail .header .icon{width:24px;height:24px}.ScaleOverlay .MeasurementDetail .scale-input{width:70px;height:24px;margin-right:var(--padding-tiny);padding:var(--padding-tiny)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ScaleOverlay .MeasurementDetail .scale-input{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ScaleOverlay .MeasurementDetail .scale-input{font-size:13px}}.ScaleOverlay .MeasurementDetail .scale-input:disabled{opacity:.5}.ScaleOverlay .MeasurementDetail .measurement__detail-container{margin-left:var(--padding-huge)}.ScaleOverlay .MeasurementDetail .measurement__detail-container .measurement__detail-item{display:flex;height:24px;align-items:center;margin:var(--padding-tiny);font-size:13px}.ScaleOverlay .MeasurementDetail .distance_input{display:flex;margin-top:var(--padding-small)}.ScaleOverlay .MeasurementDetail .distance_input .distance-show{margin-right:var(--padding-small)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ScaleOverlay .MeasurementDetail .distance_input .distance-show{width:79px;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ScaleOverlay .MeasurementDetail .distance_input .distance-show{width:79px;height:32px}}.ScaleOverlay .MeasurementDetail .distance-show{text-decoration:underline;margin-right:var(--padding-small)}.ScaleOverlay .MeasurementDetail .angle_input{display:flex;margin-top:var(--padding-small);text-decoration:underline}.ScaleOverlay .MeasurementDetail .measurement__deltas--X,.ScaleOverlay .MeasurementDetail .measurement__deltas--Y{display:flex;margin-top:var(--padding-small)}.ScaleOverlay .MeasurementDetail .measurement_list{width:64px;font-size:13px}.ScaleOverlay .MeasurementDetail .measurement{padding:5px}",""]),a.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1845:function(e,a,t){"use strict";t.r(a);t(23),t(8),t(46),t(52),t(35),t(19),t(12),t(14),t(13),t(9),t(10),t(11),t(16),t(15),t(20),t(18);var r=t(2),n=(t(33),t(158),t(24),t(44),t(0)),l=t.n(n),o=t(41),i=t(38),c=(t(94),t(103),t(89),t(17)),s=t.n(c),d=t(71),u=t(4),m=t.n(u),v=t(388),p=t(6),y=t(3),f=t(1),h=t(131);function b(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||S(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,a){if(e){if("string"==typeof e)return O(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,a):void 0}}function O(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var w={scales:m.a.arrayOf(m.a.object).isRequired,selectedScales:m.a.arrayOf(m.a.string).isRequired,onScaleSelected:m.a.func.isRequired,onAddingNewScale:m.a.func.isRequired},x=window.Core.Scale,E=function(e){var a=e.scales,t=void 0===a?[]:a,c=e.selectedScales,u=void 0===c?[]:c,m=e.onScaleSelected,S=e.onAddingNewScale,O=g(Object(v.a)(),1)[0],w=Object(p.d)(),E=Object(p.e)((function(e){return y.a.getIsMultipleScalesMode(e)})),M=u.length>1,A=function(e){if(e){var a=new x(e),t=function(e){var a=f.a.getScales(),t=[],r=new Set;return a[e.toString()].forEach((function(e){e instanceof window.Core.Annotations.Annotation&&(r.add(e.PageNumber),t.push(e))})),{measurementsNum:t.length,pages:b(r)}}(a),n={message:!!t.pages.length?l.a.createElement("div",{className:"customMessage"},l.a.createElement("p",null,l.a.createElement("span",null,O("option.measurement.deleteScaleModal.scaleIsOn-delete-info"),l.a.createElement("b",null," ".concat(O("option.measurement.deleteScaleModal.page-delete-info")," ").concat(t.pages.join(", ")," ")),O("option.measurement.deleteScaleModal.appliedTo-delete-info"),l.a.createElement("b",null," ".concat(t.measurementsNum," ").concat(t.measurementsNum>1?O("option.measurement.deleteScaleModal.measurements"):O("option.measurement.deleteScaleModal.measurement"),"."))),l.a.createElement("span",null," "),l.a.createElement("span",null,O("option.measurement.deleteScaleModal.deletionIs"),l.a.createElement("b",null," ".concat(O("option.measurement.deleteScaleModal.irreversible")," ")),O("option.measurement.deleteScaleModal.willDeleteMeasurement"))),l.a.createElement("p",null,O("option.measurement.deleteScaleModal.confirmDelete"))):l.a.createElement("div",{className:"customMessage"},l.a.createElement("p",null,l.a.createElement("span",null,O("option.measurement.deleteScaleModal.confirmDelete"),O("option.measurement.deleteScaleModal.thisCantBeUndone")))),title:"".concat(O("option.measurement.deleteScaleModal.deleteScale")," ").concat(a.toString()),confirmBtnText:O("action.confirm"),onConfirm:function(){return f.a.deleteScale(a)}};w(r.a.showWarningMessage(n))}},j=function(e){var a=f.a.getScalePrecision(e),t=x.getFormattedValue(e.pageScale.value,e.pageScale.unit,a,!1),r=x.getFormattedValue(e.worldScale.value,e.worldScale.unit,a,!1),n="".concat(t," = ").concat(r);return l.a.createElement("div",null,n)},N=O("option.measurement.scaleOverlay.multipleScales");if(u.length&&!M){var C=new x(u[0]);N=j(C)}var T=g(Object(n.useState)(!1),2),I=T[0],_=T[1],k=Object(n.useRef)(null);return Object(h.a)(k,(function(){_(!1)})),l.a.createElement(d.a,{className:"scale-overlay-selector","aria-label":O("option.measurementOption.scale"),dataElement:"scaleSelector",tabIndex:-1,onClick:function(){_((function(e){return!e}))},ref:k},l.a.createElement("button",{className:"scale-overlay-selection"},l.a.createElement("div",{className:"scale-overlay-item"},l.a.createElement("div",{className:"scale-overlay-name"},N),l.a.createElement("div",{className:"scale-overlay-arrow"},l.a.createElement(i.a,{glyph:"icon-chevron-down"})))),I&&l.a.createElement("ul",{className:s()("scale-overlay-list")},l.a.createElement("li",null,l.a.createElement("div",{className:"scale-overlay-name"},N),l.a.createElement("div",{className:"scale-overlay-arrow"},l.a.createElement("button",{className:"scale-overlay-selected-arrow",autoFocus:!0},l.a.createElement(i.a,{glyph:"icon-chevron-up"})))),t.map((function(e){return l.a.createElement("li",{key:e.toString(),className:s()({'className="scale-overlay-item':!0,"option-selected":u.includes(e.toString())})},l.a.createElement("button",{className:s()({options:!0}),onClick:function(){return m(u,e.toString())}},j(e)),l.a.createElement("button",{className:"delete",tabIndex:0,onClick:function(a){a.preventDefault(),a.stopPropagation(),A(e.toString())},disabled:t.length<=1},l.a.createElement(i.a,{glyph:"icon-delete-line"})))})),E&&l.a.createElement("li",null,l.a.createElement(o.a,{onClick:S,label:O("option.measurement.scaleOverlay.addNewScale"),className:"add-new-scale"}))))};E.propTypes=w;var M=E,A=t(130);function j(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return N(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var C={scales:m.a.arrayOf(m.a.object).isRequired,selectedScales:m.a.arrayOf(m.a.string).isRequired,onScaleSelected:m.a.func.isRequired,onAddingNewScale:m.a.func.isRequired},T=function(e){var a=e.scales,t=e.selectedScales,r=e.onScaleSelected,n=e.onAddingNewScale,c=j(Object(v.a)(),1)[0],s=Object(A.a)(n);return l.a.createElement("div",{className:"scale-overlay-header"},l.a.createElement(i.a,{glyph:"ic-calibrate",className:"scale-overlay-icon"}),l.a.createElement("div",{className:"scale-overlay-title"},c("option.measurementOption.scale")),a.length?l.a.createElement(M,{scales:a,selectedScales:t,onScaleSelected:r,onAddingNewScale:n}):l.a.createElement(o.a,{className:"add-new-scale",onClick:s,dataElement:"addNewScale",label:c("option.measurement.scaleOverlay.addNewScale")}))};T.propTypes=C;var I=T,_=(t(32),t(394),t(40)),k={distanceMeasurement:"option.measurementOverlay.distanceMeasurement",perimeterMeasurement:"option.measurementOverlay.perimeterMeasurement",areaMeasurement:"option.measurementOverlay.areaMeasurement",rectangularAreaMeasurement:"option.measurementOverlay.areaMeasurement",cloudyRectangularAreaMeasurement:"option.measurementOverlay.areaMeasurement",ellipseMeasurement:"option.measurementOverlay.areaMeasurement",arcMeasurement:"option.measurementOverlay.arcMeasurement"},D=t(333),R=function(e){return 1===e?0:null==e?void 0:e.toString().split(".")[1].length},L=t(39),P=function(e,a,t){var r;if(e&&a)if(t){var n=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)),l=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)),o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));r=Math.acos((l*l+n*n-o*o)/(2*l*n))}else r=Math.atan2(a.y-e.y,a.x-e.x),r=(r=Math.abs(r))>Math.PI/2?Math.PI-r:r;return r},q=function(e){switch(e){case"ft'":return"ft";case'in"':return"in";case"ft-in":return"ft";default:return e}};function U(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return W(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var F={'in"':"in","ft'":"ft"};H.propTypes={annotation:m.a.object,isOpen:m.a.bool.isRequired,selectedTool:m.a.object};var B=window.Core.Scale;function H(e){var a,t=e.annotation,r=e.isOpen,o=e.selectedTool,i=U(Object(v.a)(),1)[0],c=Object(p.e)((function(e){return y.a.isDocumentReadOnly(e)})),s=null==t?void 0:t.Measure.axis[0].factor,d=(null==t?void 0:t.DisplayUnits[0])||(null==o||null===(a=o.Measure)||void 0===a?void 0:a.unit),u=U(Object(n.useState)(((null==t?void 0:t.getLineLength())*s||0).toFixed(2)),2),m=u[0],h=u[1];Object(n.useEffect)((function(){if(t){var e=function(){h((t.getLineLength()*s).toFixed(2)),I(N())};return f.a.addEventListener("mouseMove",e),function(){f.a.removeEventListener("mouseMove",e)}}I(N())}),[t,N,s,o]);var b=function(e){h(e.target.value),w(e),g()},g=function(){f.a.getTool("AnnotationCreateDistanceMeasurement").finish()},S=function(){f.a.getAnnotationManager().selectAnnotation(t)},O=function(){f.a.getAnnotationManager().deselectAnnotation(t)},w=function(e){if(t){var a=Math.abs(e.target.value);a<t.Precision&&(a=t.Precision,h(a));var r=t.Measure.axis[0].factor;x(a/r)}},x=Object(n.useCallback)((function(e){if(r=t.getLineLength(),n=e,!(Math.abs(r-n)<.1)){var a=A();t.setLineLength(Math.min(a,e)),M()}var r,n}),[t,M,A]),E=function(e){var a,t;return null!=e&&null!==(a=e.DisplayUnits)&&void 0!==a&&a.length&&(t=2===e.DisplayUnits.length&&"ft'"===e.DisplayUnits[0]&&'in"'===e.DisplayUnits[1]?"in":e.DisplayUnits[0]),F[t]||t||F[d]||d},M=Object(n.useCallback)((function(){var e=f.a.getAnnotationManager();e.drawAnnotations(t.PageNumber),e.trigger("annotationChanged",[[t],"modify",{}])}),[t]),A=Object(n.useCallback)((function(){var e,a,r=f.a.getCurrentPage(),n=f.a.getPageWidth(r),l=f.a.getPageHeight(r),o=t.getAngle()*(180/Math.PI).toFixed(2),i=t.getStartPoint(),c=i.x,s=i.y;e=Math.abs(o)<90?n:0,a=o>0?l:0;var d=Math.abs((e-c)/Math.cos(t.getAngle())),u=Math.abs((a-s)/Math.sin(t.getAngle()));return Math.min(d,u)}),[t]),j=function(e){I(e.target.value),function(e){var a=e.target.value*(Math.PI/180)*-1,r=t.getLineLength(),n=t.Start,l=Math.cos(a)*r+n.x,o=Math.sin(a)*r+n.y;t.setEndPoint(l,o),t.adjustRect(),M()}(e),g()},N=Object(n.useCallback)((function(){if(!t)return 0;var e=t.getAngle();return((e=(e*=-1)<0?e+2*Math.PI:e)/Math.PI*180).toFixed(2)}),[t]),C=U(Object(n.useState)(N()),2),T=C[0],I=C[1];return Object(n.useEffect)((function(){r||x(t.getLineLength())}),[t,x,r]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},i("option.measurementOverlay.distance"),":"),l.a.createElement("input",{className:"scale-input",type:"number",min:"0",disabled:c||!t,value:t?m:0,autoFocus:!L.l,onChange:function(e){b(e),S()},onBlur:function(e){w(e)},onKeyDown:function(e){"Enter"===e.key&&(b(e),O())}}),q(d)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},i("option.measurementOverlay.angle"),":"),l.a.createElement("input",{className:"scale-input",type:"number",min:"0",max:"360",disabled:c||!t,value:T,autoFocus:!L.l,onChange:function(e){j(e),S()},onKeyDown:function(e){"Enter"===e.key&&(j(e),O())}}),"°"),function(){var e=t&&P(t.Start,t.End)||0,a=E(t),r=B.getFormattedValue(t&&Math.abs(m*Math.cos(e)),a,null==t?void 0:t.Precision),n=B.getFormattedValue(t&&Math.abs(m*Math.sin(e)),a,null==t?void 0:t.Precision);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},i("option.measurementOverlay.xAxis"),":"),l.a.createElement("div",{className:"measurement"},r)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},i("option.measurementOverlay.yAxis"),":"),l.a.createElement("div",{className:"measurement"},n)))}())}var z=H;function V(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return G(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var $={annotation:function(e,a,t){return e.annotation||e.selectedTool?(e.annotation&&m.a.checkPropTypes({annotation:m.a.shape({Precision:m.a.number,DisplayUnits:m.a.arrayOf(m.a.string),getContents:m.a.func})},{annotation:e.annotation},"prop","EllipseMeasurementOverlay"),null):new Error("One of props 'annotation' or 'selectedTool' was not specified in '".concat(t,"'."))},selectedTool:function(e,a,t){return e.annotation||e.selectedTool?(e.selectedTool&&m.a.checkPropTypes({selectedTool:m.a.shape({defaults:m.a.shape({Precision:m.a.number}),Measure:m.a.shape({unit:m.a.string})})},{selectedTool:e.selectedTool},"prop","EllipseMeasurementOverlay"),null):new Error("One of props 'annotation' or 'selectedTool' was not specified in '".concat(t,"'."))},isOpen:m.a.bool.isRequired};function Y(e){var a,t,r,o=e.annotation,i=e.isOpen,c=e.selectedTool,s=Object(v.a)().t,d=Object(p.e)((function(e){return y.a.isDocumentReadOnly(e)})),u=(null==o||null===(a=o.getMeasurementTextWithScaleAndUnits)||void 0===a?void 0:a.call(o))||0,m={precision:o?o.Precision:null==c||null===(t=c.defaults)||void 0===t?void 0:t.Precision,unit:q(((null==o?void 0:o.Scale)||(null==c||null===(r=c.defaults)||void 0===r?void 0:r.Scale))[1][1]),area:u},h=function(){M(b())};Object(n.useEffect)((function(){return h(),f.a.addEventListener("mouseMove",h),function(){f.a.removeEventListener("mouseMove",h)}}),[o]),Object(n.useEffect)((function(){var e=function(e,a){if("deselected"===a){var t=e[0];w(t.getWidth(),t)}};return f.a.addEventListener("annotationSelected",e),function(){f.a.removeEventListener("annotationSelected",e)}}),[]);var b=function(){if(!o)return 0;var e=o&&R(o.Precision)||0,a=o.Measure.axis[0].factor;return((o.Width/2).toFixed(e)*a).toFixed(e)},g=function(e){var a=e.target.value||0,t=a>0?a:1e-4,r=2*(t/o.Measure.axis[0].factor),n=o.getRect(),l={x1:n.x1,y1:n.y1,x2:n.x1+r,y2:n.y1+r};o.setHeight(r),o.setWidth(r),o.resize(l),M(t),S(o),f.a.getTool("AnnotationCreateEllipseMeasurement").finish()},S=function(e){var a=f.a.getAnnotationManager();a.redrawAnnotation(e),a.trigger("annotationChanged",[[e],"modify",[]])},O=Object(n.useCallback)((function(e){var a=f.a.getCurrentPage(),t=f.a.getPageWidth(a),r=f.a.getPageHeight(a),n=t-e.X,l=r-e.Y;return Math.min(n,l)})),w=Object(n.useCallback)((function(e,a){if(e>O(a)){var t=a.getRect(),r=t.x1,n=t.x2,l=t.y1,o=t.y2,i=a.Width,c=a.Height,s=f.a.getCurrentPage(),d=f.a.getPageWidth(s),u=f.a.getPageHeight(s);n>d&&(t.x2=d,i=d-r),o>u&&(t.y2=u,c=u-l),i<d?a.setWidth(i):a.setWidth(d),c<u?a.setHeight(c):a.setHeight(u),a.resize(t),S(a)}}),[O]);Object(n.useEffect)((function(){i||w(o.getWidth(),o)}),[o,w,i]);var x=V(Object(n.useState)(b()),2),E=x[0],M=x[1];return l.a.createElement("div",{className:"measurement__detail-container"},l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.shared.precision"),":"),l.a.createElement("div",{className:"measurement"},D.q[m.precision]||m.precision)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.measurementOverlay.area"),":"),l.a.createElement("div",{className:"measurement"},m.area)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.measurementOverlay.radius"),":"),l.a.createElement("input",{autoFocus:!L.l,className:"scale-input",type:"number",min:"0",disabled:d||!o,value:E,onChange:function(e){g(e),f.a.getAnnotationManager().selectAnnotation(o)},onBlur:function(e){return function(e){var a=Math.abs(e.target.value),t=o.Measure.axis[0].factor;w(2*(a/t),o),h()}(e)},onKeyDown:function(e){"Enter"===e.key&&(g(e),f.a.getAnnotationManager().deselectAnnotation(o))}}),m.unit))}Y.propTypes=$;var K=Y;t(1579);function J(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return X(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var Q={annotation:m.a.object,isOpen:m.a.bool.isRequired,selectedTool:m.a.object},Z=function(e){var a,t,r,o,c=e.annotation,s=e.isOpen,d=e.selectedTool,u=Object(v.a)().t,m=Object(n.useMemo)((function(){var e,a,t,r,n=c?Object(_.g)(c):Object(_.j)(d.name);return{key:n,icon:Object(_.e)(n).icon,color:c?c.Color.toHexString():null==d||null===(e=d.defaults)||void 0===e||null===(a=e.StrokeColor)||void 0===a?void 0:a.toHexString(),contents:c?null===(t=c.getMeasurementTextWithScaleAndUnits)||void 0===t?void 0:t.call(c):0,precision:c?c.Precision:null==d||null===(r=d.defaults)||void 0===r?void 0:r.Precision}}));return l.a.createElement("div",{className:"MeasurementDetail"},(a=m.key,t=m.icon,r=m.color,o=k[a],l.a.createElement("div",{className:"header"},l.a.createElement(i.a,{glyph:t,color:r,className:"icon"}),l.a.createElement("div",null,u(o)))),function(){var e,a,t=m.key,r=m.precision;return"ellipseMeasurement"===t?l.a.createElement(K,{annotation:c,selectedTool:d,isOpen:s}):l.a.createElement("div",{className:"measurement__detail-container"},l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},u("option.shared.precision"),":"),l.a.createElement("div",{className:"measurement"},D.q[r]||r)),"distanceMeasurement"===t&&l.a.createElement(z,{annotation:c,isOpen:s,selectedTool:d}),["rectangularAreaMeasurement","cloudyRectangularAreaMeasurement","perimeterMeasurement","areaMeasurement"].includes(t)&&function(){var e=m.key,a=m.contents,t={distanceMeasurement:u("option.measurementOverlay.distance"),perimeterMeasurement:u("option.measurementOverlay.perimeter"),areaMeasurement:u("option.measurementOverlay.area"),rectangularAreaMeasurement:u("option.measurementOverlay.area"),cloudyRectangularAreaMeasurement:u("option.measurementOverlay.area")};return l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},t[e],":"),l.a.createElement("div",{className:"measurement"},a))}(),"arcMeasurement"===t&&(a=(null==c?void 0:c.Length)||0,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},u("option.measurementOverlay.length")),l.a.createElement("div",{className:"measurement"},a))),"arcMeasurement"===t&&(e=(null==c?void 0:c.Radius)||0,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},u("option.measurementOverlay.radius")),l.a.createElement("div",{className:"measurement"},e))),!["rectangularAreaMeasurement","distanceMeasurement","cloudyRectangularAreaMeasurement"].includes(t)&&function(){if(!c)return l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},u("option.measurementOverlay.angle"),":"),l.a.createElement("div",{className:"measurement"},"0°"));var e=m.key,a=function(e){var a=e.getPath(),t=a.length;return[a[t-3],a[t-2],a[t-1]]},t={distanceMeasurement:function(e){return[e.Start,e.End]},perimeterMeasurement:a,areaMeasurement:a,rectangularAreaMeasurement:a,cloudyRectangularAreaMeasurement:a,arcMeasurement:a}[e](c).filter((function(e){return!!e})),r=P.apply(void 0,J(t));if(r){var n=R(c.Precision);r=(r/Math.PI*180).toFixed(n)}return"arcMeasurement"===e&&(r=c.Angle.toFixed(2)),void 0!==r&&l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},u("option.measurementOverlay.angle"),":"),l.a.createElement("div",{className:"measurement"},r,"°"))}())}())};Z.propTypes=Q;var ee=Z;function ae(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return te(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return te(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var re=window.Core.Scale,ne={tempScale:m.a.string,onCancelCalibrationMode:m.a.func,onApplyCalibration:m.a.func},le=function(e){var a,t=e.tempScale,r=e.onCancelCalibrationMode,n=e.onApplyCalibration,o=ae(Object(v.a)(),1)[0],c=Object(p.e)((function(e){return y.a.isElementOpen(e,"annotationPopup")})),s=c&&t;return l.a.createElement("div",{className:"scale-overlay-calibrate"},l.a.createElement("div",{className:"scale-overlay-header"},l.a.createElement(i.a,{glyph:"ic-calibrate",className:"scale-overlay-icon"}),l.a.createElement("div",{className:"scale-overlay-title"},o("option.measurement.scaleModal.calibrate"))),l.a.createElement("div",{className:"scale-overlay-content"},o(s?"option.measurement.scaleOverlay.inputKnowDimension":"option.measurement.scaleOverlay.selectTwoPoints")),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"scale-overlay-footer"},l.a.createElement("button",{className:"calibration-cancel",onMouseDown:r},o("action.cancel")),l.a.createElement("button",{className:"calibration-apply",disabled:!(c&&t&&(null===(a=new re(t).worldScale)||void 0===a?void 0:a.value)>0),"data-element":"calibrationApply",onMouseDown:n,onTouchStart:n},o("action.apply"))))};le.propTypes=ne;var oe=le;function ie(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||se(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,a){if(e){if("string"==typeof e)return de(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?de(e,a):void 0}}function de(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var ue=window.Core.Scale,me={annotations:m.a.arrayOf(m.a.object).isRequired,selectedTool:m.a.object,updateIsCalibration:m.a.func.isRequired,enableOrDisableToolElements:m.a.func.isRequired,onScaleSelected:m.a.func.isRequired,onCancelCalibrationMode:m.a.func.isRequired,onApplyCalibration:m.a.func.isRequired,onAddingNewScale:m.a.func.isRequired},ve=function(e){var a=e.annotations,t=e.selectedTool,r=e.updateIsCalibration,o=e.enableOrDisableToolElements,i=e.onScaleSelected,c=e.onCancelCalibrationMode,s=e.onApplyCalibration,d=e.onAddingNewScale,u=e.forceUpdate,m=ce(Object(p.e)((function(e){return[y.a.getCalibrationInfo(e),y.a.getActiveToolName(e)]}),p.c),2),v=m[0],h=v.isCalibration,b=v.tempScale,g=v.previousToolName,S=void 0===g?"AnnotationCreateDistanceMeasurement":g,O=v.isFractionalUnit,w=m[1],x=ce(Object(n.useState)(f.a.getScales()),2),E=x[0],M=x[1],A=!(!Object.keys(E).length||!t&&(!a.length||a.length>1));Object(n.useEffect)((function(){u()}),[E]),Object(n.useEffect)((function(){var e=function(e){M(e)},a=function(){M(f.a.getScales())},t=function(){d()};return f.a.addEventListener("scaleUpdated",e),f.a.addEventListener("createAnnotationWithNoScale",t),f.a.addEventListener("annotationsLoaded",a),f.a.addEventListener("annotationChanged",a),function(){f.a.removeEventListener("scaleUpdated",e),f.a.removeEventListener("createAnnotationWithNoScale",t),f.a.removeEventListener("annotationsLoaded",a),f.a.removeEventListener("annotationChanged",a)}}),[]),Object(n.useEffect)((function(){"AnnotationCreateCalibrationMeasurement"===w?(!h&&r(!0),o(!0)):(r(!1),o(!1))}),[w,r,o]);var j=Object(n.useMemo)((function(){var e=new Set;return[].concat(ie(a),[t]).forEach((function(a){var t,r=null==a||null===(t=a.Measure)||void 0===t?void 0:t.scale;r&&!e.has(r)&&e.add(r)})),ie(e)}),[a,t,E]),N=Object.keys(E).map((function(e){return new ue(e)}));return h?l.a.createElement(oe,{tempScale:b,onCancelCalibrationMode:function(){return c(S)},onApplyCalibration:function(){return s(S,b,O)},previousToolName:S}):l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{scales:N,selectedScales:j,onScaleSelected:i,onAddingNewScale:d}),A&&l.a.createElement(ee,{annotation:a.length>1?null:a[0]||null,selectedTool:t,isOpen:!0}))};ve.propTypes=me;var pe=Object(n.memo)(ve),ye=t(169),fe=t.n(ye),he=t(5);function be(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw n}}return i}}(e,a)||Se(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,a){if(e){if("string"==typeof e)return Oe(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Oe(e,a):void 0}}function Oe(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var we=window.Core.Scale,xe=["distanceToolGroupButton","arcMeasurementToolGroupButton","perimeterToolGroupButton","areaToolGroupButton","rectangleAreaToolGroupButton","ellipseAreaToolGroupButton","countToolGroupButton","cloudyRectangleAreaToolGroupButton","arcToolGroupButton"];a.default=function(e){var a=e.annotations,t=e.selectedTool,o=Object(p.d)(),i=ge(Object(v.a)(),1)[0],c=ge(Object(p.e)((function(e){return[y.a.isElementDisabled(e,he.a.SCALE_OVERLAY_CONTAINER),y.a.isElementOpen(e,he.a.SCALE_OVERLAY_CONTAINER),y.a.getScaleOverlayPosition(e)]})),3),d=c[0],u=c[1],m=c[2],h=ge(Object(n.useState)({x:0,y:0}),2),b=h[0],g=h[1],S=ge(Object(n.useReducer)((function(e){return e+1}),0,(function(){return 0})),2)[1],O=ge(Object(p.e)((function(e){return[y.a.getDocumentContainerWidth(e),y.a.getDocumentContainerHeight(e)]})),2),w=O[0],x=O[1],E=Object(n.useRef)(null),M=f.a.getViewerElement(),A=f.a.getScrollViewElement(),j=function(){var e=m.split("-"),a={left:0,top:0};if("top"===e[0])a.top=(null==M?void 0:M.offsetTop)+10||85;else{var t=400;null!=E&&E.current&&(t=E.current.getBoundingClientRect().height),a.top=x+(null==A?void 0:A.offsetTop)-10-t||85}if("right"===e[1])a.left=.666*w,M&&null!=E&&E.current&&(a.left=Math.min((null==M?void 0:M.offsetLeft)+(null==M?void 0:M.offsetWidth)+10||a.left,w-E.current.getBoundingClientRect().width-10));else{if(M&&null!=E&&E.current){var r=E.current.getBoundingClientRect().width;a.left=(null==M?void 0:M.offsetLeft)-10-r||10,A&&a.left<A.offsetLeft&&(a.left=A.offsetLeft+10)}(!a.left||isNaN(a.left)||a.left<0)&&(a.left=10)}return a}();Object(n.useEffect)((function(){g({x:0,y:0})}),[m]);var N,C,T=function(e,a){var t=a.x,r=a.y;g({x:t,y:r})},I=Object(n.useCallback)((function(e){o(r.a.updateCalibrationInfo({isCalibration:e}))}),[]),_=Object(n.useCallback)((function(e){xe.forEach((function(a){o(r.a.setCustomElementOverrides(a,{disabled:e}))}))}),[]),k=Object(n.useCallback)((function(e){e&&function(e){o(r.a.setSelectedScale(e))}(new we(e)),o(r.a.openElements([he.a.SCALE_MODAL])),o(r.a.setIsAddingNewScale())}),[]),D=Object(n.useCallback)((function(e,r){var n=new we(r);if(1===e.length&&e.includes(r))k(r);else{var l=[].concat(be(a),[t]),o=f.a.getDocumentViewer().getMeasurementManager().getOldScalesToDeleteAfterApplying({scale:n,applyTo:l})[0],i=function(){f.a.createAndApplyScale(n,[].concat(be(a),[t]))};o?R(o,i):i()}}),[a,t]),R=function(e,a){var t={message:l.a.createElement("div",{className:"customMessage"},l.a.createElement("p",null,l.a.createElement("span",null,i("option.measurement.deleteScaleModal.ifChangeScale"),l.a.createElement("b",null,e),i("option.measurement.deleteScaleModal.notUsedWillDelete"))),l.a.createElement("p",null,l.a.createElement("span",null,i("option.measurement.deleteScaleModal.ifToContinue")))),title:"".concat(i("option.measurement.deleteScaleModal.deleteScale")," ").concat(e),confirmBtnText:i("action.confirm"),onConfirm:function(){return a()}};o(r.a.showWarningMessage(t))},L=Object(n.useCallback)((function(e){f.a.setToolMode(e),I(!1),o(r.a.setIsElementHidden(he.a.SCALE_MODAL,!1))}),[]),P=Object(n.useCallback)((function(e,t,n){o(r.a.updateCalibrationInfo({isCalibration:!1,tempScale:t,isFractionalUnit:n})),o(r.a.setIsElementHidden(he.a.SCALE_MODAL,!1)),f.a.setToolMode(e),f.a.deleteAnnotations([a[0]])}),[a]),q=Object(n.useCallback)((function(){k(),o(r.a.setIsAddingNewScale(!0))}),[]);return!d&&l.a.createElement(fe.a,{position:b,bounds:(N=m.split("-"),C={top:0,bottom:0,left:0,right:0},"top"===N[0]?(C.top=0,C.bottom=x-20,E.current?C.bottom-=E.current.getBoundingClientRect().height:C.bottom-=85):(C.top=20-x,E.current?C.top+=E.current.getBoundingClientRect().height:C.top+=85,C.bottom=0),"right"===N[1]?(C.left=-w,C.right=w/3,j&&(C.right=w-j.left)):(C.left=null==A?void 0:A.offsetLeft,j&&(C.left=(null==A?void 0:A.offsetLeft)-j.left+10),C.right=w-10-35,j&&(C.right-=j.left)),C),onDrag:T,onStop:T,cancel:".scale-overlay-selector, .add-new-scale"},l.a.createElement("div",{className:s()({Overlay:!0,ScaleOverlay:!0,open:u,closed:!u}),"data-element":he.a.SCALE_OVERLAY_CONTAINER,style:j,ref:E},l.a.createElement(pe,{annotations:a,selectedTool:t,updateIsCalibration:I,enableOrDisableToolElements:_,onScaleSelected:D,onCancelCalibrationMode:L,onApplyCalibration:P,onAddingNewScale:q,forceUpdate:S,tabIndex:0})))}}}]);
//# sourceMappingURL=70.chunk.js.map