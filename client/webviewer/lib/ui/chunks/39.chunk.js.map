{"version":3,"sources":["webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.js","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/index.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss?1db5","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss?795b","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss?1717","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss?b9c4","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss","webpack:///./src/ui/src/helpers/setVerificationResult.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/WidgetLocator.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/index.js","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.js","webpack:///./src/ui/src/components/SignaturePanel/index.js"],"names":["propTypes","badge","PropTypes","string","size","SignatureIcon","className","Icon","glyph","api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","doc","certificates","trustLists","currentLanguage","revocationChecking","revocationProxyPrefix","dispatch","getVerificationResult","verificationResult","actions","setVerificationResult","PDFNet","Core","VerificationResult","TrustStatus","DigestStatus","ModificationPermissionsStatus","DocumentStatus","verificationResults","runWithCleanup","getPDFDoc","VerificationOptions","create","SecurityLevel","e_compatibility_and_archiving","opts","enableOnlineCRLRevocationChecking","setRevocationProxyPrefix","undefined","certificate","addTrustedCertificateFromURL","console","error","File","Object","prototype","toString","call","fileReader","FileReader","arrayBufferPromise","Promise","resolve","reject","addEventListener","e","Uint8Array","target","result","readAsArrayBuffer","addTrustedCertificate","ArrayBuffer","Int8Array","Uint8ClampedArray","trustList","trustListDataStructure","constructor","name","supportedDataStructures","fdfDocBuffer","arrayBuffer","includes","join","FDFDoc","createFromMemoryBuffer","fdf","loadTrustList","getFieldIteratorBegin","fieldIterator","hasNext","current","field","isValid","getType","Field","Type","e_signature","DigitalSignatureField","createFromField","digitalSigField","verify","getSDFObj","getObjNum","id","signer","signTime","documentPermission","isCertification","contactInfo","location","reason","validAtTimeOfSigning","signerName","issuerField","subjectField","hasCryptographicSignature","signed","getSubFilter","subFilter","SubFilterType","e_adbe_pkcs7_detached","getSignerCertFromCMS","signerCert","getSubjectField","retrievedSubjectField","processX501DistinguishedName","processedSubjectField","e_ETSI_RFC3161","getSignatureName","getContactInfo","getSigningTime","formatPDFNetDate","getLocation","getReason","getDocumentPermissions","getVerificationStatus","verificationStatus","getDocumentStatus","documentStatus","getDigestStatus","digestStatus","getTrustStatus","trustStatus","getPermissionsStatus","permissionStatus","getDigestAlgorithm","digestAlgorithm","getDisallowedChanges","map","change","getTypeAsString","objnum","type","all","disallowedChanges","validSignerIdentity","e_trust_verified","trustVerificationResultString","trustVerificationResultBoolean","timeOfTrustVerificationEnum","trustVerificationTime","hasTrustVerificationResult","getTrustVerificationResult","trustVerificationResult","wasSuccessful","getResultString","getTimeOfTrustVerificationEnum","getTimeOfTrustVerification","epochTrustVerificationTime","formatDate","getCertPath","certPath","firstX509Cert","getIssuerField","retrievedIssuerField","processedIssuerField","assign","lastX509Cert","getNotBeforeEpochTime","notBeforeEpochTime","getNotAfterEpochTime","notAfterEpochTime","warn","badgeIcon","e_no_error","e_digest_verified","e_digest_verification_disabled","e_no_trust_status","e_unmodified","e_has_allowed_changes","e_permissions_verification_disabled","e_commonName","getName","fieldName","next","date","year","month","day","hour","minute","second","Date","UTC","toLocaleDateString","replace","weekday","timeZoneName","epochTime","setUTCSeconds","x501DistinguishedNameObject","processedObject","getAllAttributesAndValues","allAttributeAndValues","x501AttributeTypeAndValue","getAttributeTypeOID","objectIdentifier","getRawValue","key","getStringValue","value","translateObjectIdentifierBotanOID","objectIdentifierOIDenum","JSON","stringify","Spinner","WidgetLocator","rect","useState","show","setShow","useEffect","scrollViewContainer","core","getScrollViewElement","handleScroll","removeEventListener","setTimeout","ReactDOM","createPortal","style","position","top","y1","left","x1","width","x2","height","y2","border","zIndex","getRootNode","querySelector","renderPermissionStatus","translate","e_invalidated_by_disallowed_changes","e_no_permissions_status","isRequired","collapsible","bool","onClick","func","instanceOf","Annotations","Forms","WidgetInfo","verificationType","useSelector","state","selectors","isExpanded","setIsExpanded","locatorRect","setLocatorRect","signatureDetailsExpanded","setSignatureDetailsExpanded","TimeMode","useTranslation","useDispatch","handleArrowClick","stopPropagation","jumpToWidget","widgets","widget","jumpToAnnotation","scrollLeft","scrollTop","getRect","windowTopLeft","getDisplayModeObject","pageToWindow","x","y","PageNumber","windowBottomRight","titleInteraction","openSignatureModalWithFocus","useFocusHandler","setSignatureValidationModalWidgetName","openElement","tabIndex","Fragment","onKeyDown","classNames","arrow","expanded","onKeyPress","verificationTimeMessage","e_current","e_signing","e_timestamp","renderTrustVerification","hidden","SignaturePanel","fields","setFields","showSpinner","setShowSpinner","certificateErrorMessage","setCertificateErrorMessage","getDocument","setDocument","isElementDisabled","getCertificates","getTrustLists","getCurrentLanguage","getIsRevocationCheckingEnabled","getRevocationProxyPrefix","isDisabled","onDocumentLoaded","onDocumentUnloaded","useCallback","onAnnotationChanged","annotations","action","isInFormCreationMode","getAnnotationManager","getFormFieldCreationManager","isInFormFieldCreationMode","addSignatureWidgetAnnotations","getAnnotationsList","removeAnnotations","addNonSignedFields","currentAnnotations","currentFields","annotation","SignatureWidgetAnnotation","getField","newSet","Set","removeMatchingWidget","annot","widgetFieldName","getCustomData","RectangleAnnotation","annotationManager","widgetToDelete","filter","Id","deleteAnnotations","resetFields","getAnnotationsLoadedPromise","then","fieldManager","getFieldManager","keys","message","data-element","panelData","panelNames","SIGNATURE","icon","renderLoadingOrErrors","index"],"mappings":"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","file":"chunks/39.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from 'components/Icon';\n\nimport './SignatureIcon.scss';\n\nconst propTypes = {\n  badge: PropTypes.string,\n  size: PropTypes.string,\n};\n\nconst SignatureIcon = ({ badge, size = 'medium' }) => (\n  <div className=\"signature-icon\">\n    {badge && <Icon glyph={badge} className={`badge ${size}`} />}\n  </div>\n);\n\nSignatureIcon.propTypes = propTypes;\n\nexport default SignatureIcon;\n","import SignatureIcon from './SignatureIcon';\n\nexport default SignatureIcon;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./Spinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SignaturePanel .spinner{margin:10px;border:5px solid #ddd;border-top-color:#aaa;border-radius:50%;width:40px;height:40px;animation:spin 1.2s ease infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./SignatureIcon.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-icon .badge{color:#fff}.signature-icon .medium{width:18px;height:18px}.signature-icon .small{width:16px;height:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./WidgetInfo.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-widget-info{--widget-header-indent:49px;--widget-body-indent:22px;--arrow-width:22px;padding:4px;display:flex;flex-direction:column;font-size:13px;margin-bottom:10px;margin-left:5px;box-sizing:border-box;border:1px solid transparent;cursor:pointer;--border-radius-amount:4px;-moz-border-radius-topleft:var(--border-radius-amount);-moz-border-radius-topright:var(--border-radius-amount);-moz-border-radius-bottomright:var(--border-radius-amount);-moz-border-radius-bottomleft:var(--border-radius-amount);border-radius:var(--border-radius-amount)}.signature-widget-info p+p{margin:1em 0 0}.signature-widget-info p.result-for-header{margin-top:0}.signature-widget-info p.bold{font-weight:700;margin-bottom:4px}.signature-widget-info p.underline{text-decoration:underline}.signature-widget-info .signatureProperties:focus,.signature-widget-info .signatureProperties:hover{color:var(--blue-5)}.signature-widget-info .link{cursor:pointer;outline:none;border:0;background-color:transparent}.signature-widget-info .link.focus-visible,.signature-widget-info .link:focus-visible{outline:var(--focus-visible-outline)}.signature-widget-info:hover{border-color:var(--blue-6)}.signature-widget-info:active,.signature-widget-info[focus-within]{background:var(--outline-hover);border-color:var(--blue-5)}.signature-widget-info:active,.signature-widget-info:focus-within{background:var(--outline-hover);border-color:var(--blue-5)}.signature-widget-info.focus-visible,.signature-widget-info:focus-visible{outline:var(--focus-visible-outline)}.signature-widget-info .title{padding-left:2px;font-weight:700;display:flex;align-items:center;min-height:32px;margin-top:-5px;margin-bottom:-5px;overflow:hidden;border:0;background-color:transparent}.signature-widget-info .title button+*,.signature-widget-info .title div+*{margin-left:2px}.signature-widget-info .title .arrow{min-width:var(--arrow-width);transition:transform .1s ease;margin-top:0;background-color:transparent;border:none;padding:0}.signature-widget-info .title .arrow.expanded{transform:rotate(90deg)}.signature-widget-info .title .arrow .Icon{width:var(--arrow-width);height:22px}.signature-widget-info .title .arrow.hidden{visibility:hidden;padding:23px}.signature-widget-info .title .arrow:hover .Icon{color:var(--blue-6)}.signature-widget-info .title .arrow.focus-visible,.signature-widget-info .title .arrow:focus-visible{outline:var(--focus-visible-outline)}.signature-widget-info .title .signature-icon{margin-right:5px}.signature-widget-info .title.focus-visible,.signature-widget-info .title:focus-visible{outline:var(--focus-visible-outline)}.signature-widget-info .header{margin-left:var(--widget-header-indent)}.signature-widget-info .header .body{margin-left:var(--widget-body-indent)}.signature-widget-info .header .body>div:first-child>p:first-child,.signature-widget-info .header .body>p:first-child{margin-top:.5em}.signature-widget-info .header .body>div:last-child{margin-bottom:.5em}.signature-widget-info .header-with-arrow{margin-left:calc(var(--widget-header-indent) - var(--arrow-width))}.signature-widget-info .header-with-arrow .body{margin-left:calc(var(--widget-body-indent) + var(--arrow-width))}.signature-widget-info .signatureDetails,.signature-widget-info .verificationDetails{padding:0;background-color:transparent;border:none;text-align:left}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./SignaturePanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignaturePanel{z-index:65;transition:transform .3s ease,visibility 0s ease .3s}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel{top:0;width:100%;height:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel{top:0;width:100%;height:100%}}.open.SignaturePanel{transform:none;visibility:visible;transition:transform .3s ease,visibility 0s ease 0s}.SignaturePanel .empty-panel-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;padding:36px;grid-gap:8px;gap:8px}.SignaturePanel .empty-panel-container .empty-icon{width:60px;height:60px;color:var(--gray-6);fill:var(--gray-6)}.SignaturePanel .empty-panel-container .empty-icon svg{width:60px;height:60px}.SignaturePanel .empty-panel-container .empty-message{text-align:center;max-width:131px;font-size:13px}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel .empty-panel-container .empty-message{line-height:15px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel .empty-panel-container .empty-message{line-height:15px}}.SignaturePanel{margin:0 8px 8px;display:flex;flex-direction:column}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel{width:auto;margin:16px;flex-grow:1;overflow-y:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel{width:auto;margin:16px;flex-grow:1;overflow-y:auto}}.SignaturePanel .center{display:flex;justify-content:center;align-items:center}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel .signature-widget-info .title .arrow{min-width:auto;padding:3px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel .signature-widget-info .title .arrow{min-width:auto;padding:3px}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import actions from 'actions';\n\nconst DEFAULT_REVOCATION_PROXY_PREFIX = 'https://proxy.pdftron.com';\n\n/**\n * Side-effect function that sets the verification status of the document.\n * One of three possible results can happen:\n *\n * 1. Valid: All signatures have been successfully verified\n * 2. Unknown: One or more signatures has issues, but the verification API\n * cannot definitively state the signatures are valid or invalid (i.e. a\n * required Public Key Certificate is missing)\n * 3. Invalid: The document has been digitally signed, but has one or more\n * invalid signatures (i.e. because the document was modified after it was\n * signed, and one or more signature field did not allow for this to occur)\n *\n * The above results are dictated by the return values of:\n *\n * PDFNet.VerificationResult.getDocumentStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDocumentStatus__anchor\n *\n * PDFNet.VerificationResult.getTrustStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getTrustStatus__anchor\n *\n * PDFNet.VerificationResult.getDigestStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDigestStatus__anchor\n *\n * PDFNet.VerificationResult.getPermissionsStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getPermissionsStatus__anchor\n *\n * Valid:\n * DocumentStatus.e_no_error && TrustStatus.e_trust_verified\n *\n * Unknown:\n * DocumentStatus.e_no_error\n * && (\n *  DigestStatus.e_digest_verified\n *  || DigestStatus.e_digest_verification_disabled\n * ) && trustStatus !== TrustStatus.e_no_trust_status\n * && (\n *   ModificationPermissionsStatus.e_unmodified\n *   || ModificationPermissionsStatus.e_has_allowed_changes\n *   || ModificationPermissionsStatus.e_permissions_verification_disabled\n * )\n *\n * Any other combinations will cause the signature field to be considered\n * Invalid.\n * @ignore\n */\nexport default async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch) => {\n  const verificationResult = await getVerificationResult(doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix);\n  dispatch(actions.setVerificationResult(verificationResult));\n  return verificationResult;\n};\n\n/**\n * Iterates through each signature widget in the document, retrieves and returns\n * all pertinent information pertaining to Digital Signature Verification\n *\n * @param {Core.Document} doc The document with signatures to verify\n * with the given certificate\n * @param {Array<File | string>} certificates The certificate files to be used\n * for verification. Can be passed as a File object, or a URL in the form\n * of a string, in which a GET call will be made to retrieve the certificate\n * @param {\n *   Array<Blob | ArrayBuffer | Int8Array | Uint8Array | Uint8ClampedArray>\n * } trustLists The Trust Lists to load for verification.\n * @param {string} currentLanguage Current UI language\n * @param {boolean} revocationChecking Determines if the PDFNet API\n * VerificationOptions.enableOnlineCRLRevocationChecking is invoked to enable\n * Online Certification Revocation List (CRL) Revocation Checking is done\n * within the PDFNet logic\n * @param {string} revocationProxyPrefix The URL of a proxy server that should\n * be used to avoid CORS related issues when contacting Certificate Revocation\n * List (CRL) servers\n * @returns {object} An object mapping the field name of each signature widget\n * to their verification results\n * @ignore\n */\nconst getVerificationResult = async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix) => {\n  const { PDFNet } = window.Core;\n  const { VerificationResult } = PDFNet;\n  const {\n    TrustStatus,\n    DigestStatus,\n    ModificationPermissionsStatus,\n    DocumentStatus,\n  } = VerificationResult;\n  const verificationResults = {};\n\n\n  await PDFNet.runWithCleanup(async () => {\n    /**\n     * @todo Remove re-assignment of argument from original code?\n     */\n    doc = await doc.getPDFDoc();\n    const opts = await PDFNet.VerificationOptions.create(\n      PDFNet.VerificationOptions.SecurityLevel.e_compatibility_and_archiving\n    );\n\n    if (revocationChecking) {\n      await opts.enableOnlineCRLRevocationChecking(true);\n    }\n\n    if (revocationProxyPrefix === null) {\n      await opts.setRevocationProxyPrefix(DEFAULT_REVOCATION_PROXY_PREFIX);\n    } else if (revocationProxyPrefix !== undefined) {\n      await opts.setRevocationProxyPrefix(revocationProxyPrefix);\n    }\n\n    for (const certificate of certificates) {\n      if (typeof certificate === 'string') {\n        try {\n          await opts.addTrustedCertificateFromURL(certificate);\n        } catch {\n          console.error(\n            `Error encountered when trying to load certificate from URL: ${certificate}\\n`\n            + 'Certificate will not be used as part of verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof File ||\n        Object.prototype.toString.call(certificate) === '[object File]'\n      ) {\n        const fileReader = new FileReader();\n        const arrayBufferPromise = new Promise((resolve, reject) => {\n          fileReader.addEventListener('load', async (e) => {\n            resolve(new Uint8Array(e.target.result));\n          });\n          fileReader.addEventListener('error', () => {\n            reject('Error reading the local certificate');\n          });\n\n          fileReader.readAsArrayBuffer(certificate);\n        });\n        try {\n          await opts.addTrustedCertificate(await arrayBufferPromise);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof ArrayBuffer\n        || certificate instanceof Int8Array\n        || certificate instanceof Uint8Array\n        || certificate instanceof Uint8ClampedArray\n      ) {\n        try {\n          await opts.addTrustedCertificate(certificate);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      }\n    }\n\n    for (const trustList of trustLists) {\n      const trustListDataStructure = trustList.constructor.name;\n      const supportedDataStructures = [\n        'ArrayBuffer',\n        'Int8Array',\n        'Uint8Array',\n        'Uint8ClampedArray',\n      ];\n      let fdfDocBuffer;\n      if (trustListDataStructure === 'Blob') {\n        fdfDocBuffer = await trustList.arrayBuffer();\n      } else if (supportedDataStructures.includes(trustListDataStructure)) {\n        fdfDocBuffer = trustList;\n      } else {\n        console.error(\n          'The provided TrustList is an unsupported data-structure. '\n          + 'Please ensure the TrustList is formatted as one of the following '\n          + `data-structures: ${[...supportedDataStructures, 'Blob'].join('|')}`\n        );\n        continue;\n      }\n      try {\n        const fdf = await PDFNet.FDFDoc.createFromMemoryBuffer(fdfDocBuffer);\n        await opts.loadTrustList(fdf);\n      } catch (error) {\n        console.error(\n          `Error encountered when trying to load certificate: ${error}. `\n          + 'Certificate will not be used as part of the verification process.'\n        );\n        continue;\n      }\n    }\n\n    const fieldIterator = await doc.getFieldIteratorBegin();\n    for (; (await fieldIterator.hasNext()); fieldIterator.next()) {\n      const field = await fieldIterator.current();\n      if (\n        !(await field.isValid())\n        || await field.getType() !== PDFNet.Field.Type.e_signature\n      ) {\n        continue;\n      }\n      const digitalSigField = await PDFNet.DigitalSignatureField.createFromField(field);\n      try {\n        const result = await digitalSigField.verify(opts);\n        const id = await (await digitalSigField.getSDFObj()).getObjNum();\n\n        let signer;\n        let signTime;\n        let documentPermission;\n        let isCertification;\n        let contactInfo;\n        let location;\n        let reason;\n        let validAtTimeOfSigning;\n        let signerName;\n        const issuerField = {};\n        const subjectField = {};\n\n        const signed = await digitalSigField.hasCryptographicSignature();\n        if (signed) {\n          const subFilter = await digitalSigField.getSubFilter();\n          if (subFilter === PDFNet.DigitalSignatureField.SubFilterType.e_adbe_pkcs7_detached) {\n            const signerCert = await digitalSigField.getSignerCertFromCMS();\n            /**\n             * @note \"Issuer\" refers to the Certificate Authority that issued the\n             * certificate\n             * \"Subject\" refers to the organization/person that the Certificate\n             * Auhority issued this certificate to\n             *\n             * It is likely that future UI iterations will leverage Issuer\n             * information, so the code has been commented out for now, but will\n             * be uncommented in future feature implementations\n             */\n            // const retrievedIssuerField = await signerCert.getIssuerField();\n            // const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField) || {};\n            const retrievedSubjectField = await signerCert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField) || {};\n            signer = processedSubjectField['e_commonName'];\n          }\n          // Getter functions cannot be called on Digital Signature fields using\n          // e_ETSI_RFC3161\n          if (subFilter !== PDFNet.DigitalSignatureField.SubFilterType.e_ETSI_RFC3161) {\n            if (!signer) {\n              signer = (\n                await digitalSigField.getSignatureName()\n                || await digitalSigField.getContactInfo()\n              );\n            }\n            signTime = await digitalSigField.getSigningTime();\n\n            if (await signTime.isValid()) {\n              signTime = formatPDFNetDate(signTime, currentLanguage);\n            } else {\n              signTime = null;\n            }\n\n            contactInfo = await digitalSigField.getContactInfo();\n            location = await digitalSigField.getLocation();\n            reason = await digitalSigField.getReason();\n          }\n\n          documentPermission = await digitalSigField.getDocumentPermissions();\n          isCertification = await digitalSigField.isCertification();\n        }\n\n        const verificationStatus = await result.getVerificationStatus();\n        const documentStatus = await result.getDocumentStatus();\n        const digestStatus = await result.getDigestStatus();\n        const trustStatus = await result.getTrustStatus();\n        const permissionStatus = await result.getPermissionsStatus();\n        const digestAlgorithm = await result.getDigestAlgorithm();\n        const disallowedChanges = await Promise.all(\n          (await result.getDisallowedChanges()).map(async (change) => ({\n            objnum: await change.getObjNum(),\n            type: await change.getTypeAsString(),\n          }))\n        );\n        const validSignerIdentity = trustStatus === TrustStatus.e_trust_verified;\n\n        let trustVerificationResultString;\n        let trustVerificationResultBoolean;\n        let timeOfTrustVerificationEnum;\n        let trustVerificationTime;\n        const hasTrustVerificationResult = await result.hasTrustVerificationResult();\n        if (hasTrustVerificationResult) {\n          const trustVerificationResult = await result.getTrustVerificationResult();\n\n          trustVerificationResultBoolean = await trustVerificationResult.wasSuccessful();\n          trustVerificationResultString = await trustVerificationResult.getResultString();\n          timeOfTrustVerificationEnum = await trustVerificationResult.getTimeOfTrustVerificationEnum();\n\n          const epochTrustVerificationTime = await trustVerificationResult.getTimeOfTrustVerification();\n          if (epochTrustVerificationTime) {\n            trustVerificationTime = formatDate(epochTrustVerificationTime, currentLanguage);\n          }\n          const certPath = await trustVerificationResult.getCertPath();\n          if (certPath.length) {\n            const firstX509Cert = certPath[0];\n            const retrievedIssuerField = await firstX509Cert.getIssuerField();\n            const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField);\n            Object.assign(issuerField, processedIssuerField);\n            const retrievedSubjectField = await firstX509Cert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField);\n            Object.assign(subjectField, processedSubjectField);\n            const lastX509Cert = certPath[certPath.length - 1];\n            /**\n             * @todo @colim @rdjericpdftron 2022-05-30\n             * Using the pdftron::PDF::VerificationOptions::LoadTrustList API\n             * in combination with\n             * pdftron::Crypto::X509Certificate::GetNotBeforeEpochTime\n             * or\n             * pdftron::Crypto::X509Certificate::GetNotAfterEpochTime\n             * Results in the following fatal error being thrown:\n             *\n             * calendar_point::to_std_timepoint() does not support years after\n             * 2037 on this system\n             *\n             * @rdjericpdftron Mentions that this should be addressed in a\n             * future release of PDFNet when the Botan library has been patched\n             */\n            try {\n              const notBeforeEpochTime = await lastX509Cert.getNotBeforeEpochTime();\n              const notAfterEpochTime = await lastX509Cert.getNotAfterEpochTime();\n              validAtTimeOfSigning = (\n                notAfterEpochTime >= epochTrustVerificationTime\n                && epochTrustVerificationTime >= notBeforeEpochTime\n              );\n            } catch (dateBugError) {\n              if (dateBugError.includes('calendar_point::to_std_timepoint() does not support years after')) {\n                console.warn(\n                  'The following error is a known issue with Botan, and aims to be addressed in a future release of '\n                  + 'PDFNet. This currently does not impact PDFTron\\'s Digital Signature Verification capabilities.'\n                );\n                console.warn(dateBugError);\n              }\n            }\n          }\n        }\n\n        let badgeIcon;\n        if (verificationStatus) {\n          badgeIcon = 'digital_signature_valid';\n        } else if (\n          documentStatus === DocumentStatus.e_no_error &&\n          (digestStatus === DigestStatus.e_digest_verified ||\n            digestStatus === DigestStatus.e_digest_verification_disabled) &&\n          trustStatus !== TrustStatus.e_no_trust_status &&\n          (permissionStatus === ModificationPermissionsStatus.e_unmodified ||\n            permissionStatus === ModificationPermissionsStatus.e_has_allowed_changes ||\n            permissionStatus === ModificationPermissionsStatus.e_permissions_verification_disabled)\n        ) {\n          badgeIcon = 'digital_signature_warning';\n        } else {\n          badgeIcon = 'digital_signature_error';\n        }\n\n        if (signer) {\n          signerName = signer;\n        } else if (!signer && subjectField.e_commonName) {\n          signerName = subjectField.e_commonName;\n        }\n        const fieldName = await field.getName();\n        verificationResults[fieldName] = {\n          signed,\n          signer,\n          signerName,\n          signTime,\n          verificationStatus,\n          documentStatus,\n          digestStatus,\n          trustStatus,\n          permissionStatus,\n          disallowedChanges,\n          trustVerificationResultBoolean,\n          trustVerificationResultString,\n          timeOfTrustVerificationEnum,\n          trustVerificationTime,\n          id,\n          badgeIcon,\n          validSignerIdentity,\n          digestAlgorithm,\n          documentPermission,\n          isCertification,\n          contactInfo,\n          location,\n          reason,\n          issuerField,\n          subjectField,\n          validAtTimeOfSigning,\n        };\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  });\n\n  return verificationResults;\n};\n\n/**\n * Retrieves the relevant information from the given object, containing date\n * information that originates from epoch time, and returns a string containing\n * the date and time information in a human readable string\n *\n * @param {object} date The date object that is returned from PDFNet\n * @returns {string} Human readable formatted date and time\n * @ignore\n */\nconst formatPDFNetDate = (date, currentLanguage) => {\n  const { year, month, day, hour, minute, second } = date;\n  const d = new Date(Date.UTC(year, month - 1, day, hour, minute, second));\n\n  return d.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Converts an epoch time input to date in string\n *\n * @param {number} epochTime The epoch time to be converted\n * @returns {string} The converted epoch time\n * @ignore\n */\nconst formatDate = (epochTime, currentLanguage) => {\n  const date = new Date(0);\n  // Values greater than 59 are converted into their parent values\n  // (i.e. seconds -> minutes -> hours -> day etc.)\n  date.setUTCSeconds(epochTime);\n\n  return date.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Processes an instance of the PDFNet.X501DistinguishedName class into a\n * Javascript object that is human readable\n *\n * Intended to process the objects returned from invoking\n * PDFNet.X509Certificate.GetIssuerField and\n * PDFNet.X509Certificate.GetSubjectField\n *\n * @param {PDFNet.X501DistinguishedName} x501DistinguishedNameObject An instance\n * of the PDFNet.X501DistinguishedName class, to be processed into a Javascript\n * object\n * @returns {object} Maps human readable keys (as opposed to the Botan Crpyto\n * OIDs, represented as Array<int> in PDFTron Core) to the corresponding values\n * they map to\n * @ignore\n */\nconst processX501DistinguishedName = async (x501DistinguishedNameObject) => {\n  const processedObject = {};\n  const allAttributeAndValues = await x501DistinguishedNameObject.getAllAttributesAndValues();\n  for (const x501AttributeTypeAndValue of allAttributeAndValues) {\n    const objectIdentifier = await x501AttributeTypeAndValue.getAttributeTypeOID();\n    const key = await objectIdentifier.getRawValue();\n    const value = await x501AttributeTypeAndValue.getStringValue();\n    processedObject[translateObjectIdentifierBotanOID(key)] = value;\n  }\n  return processedObject;\n};\n\n/**\n * Takes an Array<Number> argument (or its string representation from\n * JSON.stringify) and returns the enum it is supposed to represent based on\n * its OID representation in the Botan crypto C++ library\n *\n * PDFTron Core represents the key from the original Map<string, string>\n * data-structre in the form of an array\n *\n * @example The key of the object\n * { \"2.5.4.3\", \"X520.CommonName\" }\n * Is represented as [2,5,4,3] in PDFTron Core\n *\n * Source: https://botan.randombit.net/doxygen/oid__maps_8cpp_source.html\n *\n * @param {string | Array<Number>} objectIdentifierOIDenum The array returned\n * from the invocation of PDFNet.ObjectIdentifier.getRawValue, which can be\n * accepted as the Array input (which the body of the function will convert to a\n * string), or a string representation of the array\n * @returns {string} The human readable enum that the array represents\n * @ignore\n */\nconst translateObjectIdentifierBotanOID = (objectIdentifierOIDenum) => {\n  const botanArrayToEnum = {\n    '[2,5,4,3]': 'e_commonName',\n    '[2,5,4,4]': 'e_surname',\n    '[2,5,4,6]': 'e_countryName',\n    '[2,5,4,7]': 'e_localityName',\n    '[2,5,4,8]': 'e_stateOrProvinceName',\n    '[2,5,4,9]': 'e_streetAddress',\n    '[2,5,4,10]': 'e_organizationName',\n    '[2,5,4,11]': 'e_organizationalUnitName',\n    /**\n     * @note Added by @CorreyL, enum is not in PDFTronCore codebase as of\n     * PDFNetJS8.1\n     *\n     * Listed as { \"1.2.840.113549.1.9.1\", \"PKCS9.EmailAddress\" }\n     * in load_oid2str_map()\n     */\n    '[1,2,840,113549,1,9,1]': 'e_emailAddress',\n  };\n  const arrayAsString = (typeof objectIdentifierOIDenum === 'string')\n    ? objectIdentifierOIDenum\n    : JSON.stringify(objectIdentifierOIDenum);\n  return botanArrayToEnum[arrayAsString];\n};\n","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => <div className=\"spinner\" />;\n\nexport default Spinner;\n","import React, {\n  useEffect,\n  useState,\n} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport core from 'core';\nimport getRootNode from 'helpers/getRootNode';\n\nconst WidgetLocator = ({ rect }) => {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    const scrollViewContainer = core.getScrollViewElement();\n    const handleScroll = () => {\n      setShow(false);\n    };\n\n    scrollViewContainer.addEventListener('scroll', handleScroll);\n    return () => scrollViewContainer.removeEventListener('scroll', handleScroll);\n  });\n\n  useEffect(() => {\n    if (rect) {\n      setTimeout(() => {\n        // so that the locator won't disappear because of the scroll\n        setShow(true);\n      }, 50);\n\n      setTimeout(() => {\n        setShow(false);\n      }, 700);\n    }\n  }, [rect]);\n\n  return (\n    show &&\n    ReactDOM.createPortal(\n      <div\n        style={{\n          position: 'absolute',\n          top: rect.y1,\n          left: rect.x1,\n          width: rect.x2 - rect.x1,\n          height: rect.y2 - rect.y1,\n          // eslint-disable-next-line custom/no-hex-colors\n          border: '1px solid #00a5e4',\n          // don't appear above the signature properties modal\n          zIndex: 99,\n        }}\n      />,\n      getRootNode().querySelector('#app')\n    )\n  );\n};\n\nexport default WidgetLocator;\n","import WidgetLocator from './WidgetLocator';\n\nexport default WidgetLocator;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport classNames from 'classnames';\nimport core from 'core';\nimport selectors from 'selectors';\n\nimport SignatureIcon from 'components/SignaturePanel/SignatureIcon';\nimport Icon from 'components/Icon';\nimport WidgetLocator from '../WidgetLocator';\nimport useFocusHandler from 'hooks/useFocusHandler';\n\nimport './WidgetInfo.scss';\n\nexport const renderPermissionStatus = ({\n  isCertification,\n  ModificationPermissionsStatus,\n  permissionStatus,\n  translate,\n}) => {\n  let content;\n\n  switch (permissionStatus) {\n    case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_has_allowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_unmodified:\n      content = `${translate('digitalSignatureVerification.permissionStatus.unmodified')\n      } ${isCertification\n        ? translate('digitalSignatureVerification.certified')\n        : translate('digitalSignatureVerification.signed')\n      }.`;\n      break;\n    case ModificationPermissionsStatus.e_permissions_verification_disabled:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n      );\n      break;\n    case ModificationPermissionsStatus.e_no_permissions_status:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n      );\n      break;\n  }\n\n  return <p>{content}</p>;\n};\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  collapsible: PropTypes.bool.isRequired,\n  onClick: PropTypes.func,\n  field: PropTypes.instanceOf(window.Core.Annotations.Forms.Field),\n};\n\nconst WidgetInfo = ({ name, collapsible, field }) => {\n  const verificationResult = useSelector((state) => selectors.getVerificationResult(state, name));\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [locatorRect, setLocatorRect] = useState(null);\n  const [signatureDetailsExpanded, setSignatureDetailsExpanded] = useState(false);\n  const { VerificationResult, VerificationOptions } = window.Core.PDFNet;\n  const { TimeMode } = VerificationOptions;\n  const { ModificationPermissionsStatus } = VerificationResult;\n  const [translate] = useTranslation();\n\n  const {\n    signed,\n    signTime,\n    verificationStatus,\n    permissionStatus,\n    disallowedChanges,\n    trustVerificationResultBoolean,\n    timeOfTrustVerificationEnum,\n    trustVerificationTime,\n    badgeIcon,\n    isCertification,\n    contactInfo,\n    location,\n    reason,\n    signerName,\n  } = verificationResult;\n\n  const dispatch = useDispatch();\n\n  const handleArrowClick = (e) => {\n    e.stopPropagation();\n    setIsExpanded(!isExpanded);\n  };\n\n  /**\n   * Side-effect function that highlights the SignatureWidgetAnnotation\n   * pertaining to the text element that was clicked by using core code to find\n   * the coordinates of the widget on the page it is placed on\n   *\n   * @param {Annotations.Forms.Field} field The field pertaining\n   * to the text element clicked in the Signature Panel\n   */\n  const jumpToWidget = (field) => {\n    if (!field.widgets.length) {\n      return;\n    }\n    const widget = field.widgets[0];\n    core.jumpToAnnotation(widget);\n\n    const { scrollLeft, scrollTop } = core.getScrollViewElement();\n    const rect = widget.getRect();\n    const windowTopLeft = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x1, y: rect.y1 }, widget.PageNumber);\n    const windowBottomRight = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x2, y: rect.y2 }, widget.PageNumber);\n\n    setLocatorRect({\n      x1: windowTopLeft.x - scrollLeft,\n      y1: windowTopLeft.y - scrollTop,\n      x2: windowBottomRight.x - scrollLeft,\n      y2: windowBottomRight.y - scrollTop,\n    });\n  };\n\n  /**\n   * Function that invokes the necessary methods when a user interacts with\n   * the title of the widget\n   *\n   * interaction\n   */\n  const titleInteraction = () => {\n    jumpToWidget(field);\n  };\n\n  const renderTitle = () => {\n    let content = isCertification\n      ? translate('digitalSignatureVerification.Certified')\n      : translate('digitalSignatureVerification.Signed');\n    content += ` ${translate('digitalSignatureVerification.by')} ${signerName || translate('digitalSignatureModal.unknown')}`;\n    if (signTime) {\n      content += ` ${translate('digitalSignatureVerification.on')} ${signTime}`;\n    }\n    return (\n      <div\n        className=\"title collapsible\"\n        onClick={titleInteraction}\n        onKeyDown={titleInteraction}\n        tabIndex={0}\n      >\n        {collapsible && (\n          <button\n            className={classNames({\n              arrow: true,\n              expanded: isExpanded,\n            })}\n            onClick={handleArrowClick}\n            tabIndex={0}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </button>\n        )}\n        <SignatureIcon badge={badgeIcon} size=\"small\" />\n        <p>{content}</p>\n      </div>\n    );\n  };\n\n  const renderVerificationStatus = () => {\n    const verificationType = isCertification\n      ? translate('digitalSignatureVerification.Certification')\n      : translate('digitalSignatureVerification.Signature');\n    return (\n      <div className=\"title\">\n        <p>\n          {\n            verificationStatus\n              ? translate('digitalSignatureVerification.verificationStatus.valid', { verificationType })\n              : translate('digitalSignatureVerification.verificationStatus.failed', { verificationType })\n          }\n        </p>\n      </div>\n    );\n  };\n\n  const renderPermissionStatus = () => {\n    let content;\n\n    switch (permissionStatus) {\n      case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_has_allowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_unmodified:\n        content = `${translate('digitalSignatureVerification.permissionStatus.unmodified')\n        } ${isCertification\n          ? translate('digitalSignatureVerification.certified')\n          : translate('digitalSignatureVerification.signed')\n        }.`;\n        break;\n      case ModificationPermissionsStatus.e_permissions_verification_disabled:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n        );\n        break;\n      case ModificationPermissionsStatus.e_no_permissions_status:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderDisallowedChanges = () => {\n    return disallowedChanges.map(({ objnum, type }) => (\n      <p key={objnum}>\n        {\n          translate(\n            'digitalSignatureVerification.disallowedChange',\n            { type, objnum }\n          )\n        }\n      </p>\n    ));\n  };\n\n  const renderTrustVerification = () => {\n    let verificationTimeMessage;\n    switch (timeOfTrustVerificationEnum) {\n      case (TimeMode.e_current):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.current')\n        );\n        break;\n      case (TimeMode.e_signing):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.signing')\n        );\n        break;\n      case (TimeMode.e_timestamp):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.timestamp')\n        );\n        break;\n      default:\n        console.warn(\n          `Unexpected pdftron::PDF::VerificationOptions::TimeMode: ${timeOfTrustVerificationEnum}`\n        );\n    }\n    return (\n      <div className=\"trust-verification-result\">\n        <p>\n          {\n            translate(\n              trustVerificationResultBoolean\n                ? 'digitalSignatureVerification.trustVerification.verifiedTrust'\n                : 'digitalSignatureVerification.trustVerification.noTrustVerification'\n            )\n          }\n        </p>\n        {\n          /**\n           * @todo Chat with @rastko when he is available to determine what\n           * content from `trustVerificationResultString` could potentially\n           * be important to show to users\n           *\n           * <div>\n           *   <p className='bold'>Trust verification result:</p>\n           *   {\n           *     trustVerificationResultString.split('\\n').map((line, idx) => {\n           *       return (\n           *         <p\n           *           key={`trustVerificationResultString-${idx}`}\n           *           className={line[0] === '\\t' ? '' : 'bold'}\n           *         >\n           *           {line}\n           *         </p>\n           *       );\n           *     })\n           *   }\n           * </div>\n           */\n        }\n        <p>{trustVerificationTime}</p>\n        <p>{verificationTimeMessage}</p>\n      </div>\n    );\n  };\n\n  const renderSignatureDetails = () => {\n    // No additional signature details to render\n    if (!contactInfo && !location && !reason) {\n      return null;\n    }\n    return (\n      <div\n        className='signatureDetails'\n        onClick={() => jumpToWidget(field)}\n        tabIndex={-1}\n      >\n        <div className=\"title collapsible\">\n          <button\n            className={classNames({\n              arrow: true,\n              expanded: signatureDetailsExpanded,\n            })}\n            onClick={\n              () => setSignatureDetailsExpanded(!signatureDetailsExpanded)\n            }\n            tabIndex={0}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </button>\n          <p>\n            {\n              translate(\n                'digitalSignatureVerification.signatureDetails.signatureDetails'\n              )\n            }\n          </p>\n        </div>\n        {\n          signatureDetailsExpanded\n          && (\n            <div className=\"body\">\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.contactInformation')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    contactInfo\n                    || translate('digitalSignatureVerification.signatureDetails.noContactInformation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.location')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    location\n                    || translate('digitalSignatureVerification.signatureDetails.noLocation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.reason')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    reason\n                    || translate('digitalSignatureVerification.signatureDetails.noReason')\n                  }\n                </p>\n              </div>\n              {\n                signTime && (\n                  <div>\n                    <p className=\"bold\">\n                      {\n                        `${translate('digitalSignatureVerification.signatureDetails.signingTime')}:`\n                      }\n                    </p>\n                    <p className=\"result-for-header\">\n                      {\n                        signTime\n                        || translate('digitalSignatureVerification.signatureDetails.noSigningTime')\n                      }\n                    </p>\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    );\n  };\n\n  const openSignatureModal = () => {\n    dispatch(actions.setSignatureValidationModalWidgetName(name));\n    dispatch(actions.openElement('signatureValidationModal'));\n  };\n\n  const openSignatureModalWithFocus = useFocusHandler(openSignatureModal);\n\n  /**\n   * Renders a button to open the signature modal\n   */\n  const renderSignaturePropertiesButton = () => {\n    return (\n      <button\n        onClick={openSignatureModalWithFocus}\n        tabIndex={0}\n        className=\"signatureProperties link\"\n      >\n        <p className=\"bold underline\">{translate('digitalSignatureVerification.signatureProperties')}</p>\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"signature-widget-info\" tabIndex='0'>\n      {signed ? (\n        <React.Fragment>\n          {renderTitle()}\n          {isExpanded && (\n            <div\n              className='verificationDetails'\n              onClick={() => jumpToWidget(field)}\n              onKeyPress={() => jumpToWidget(field)}\n              tabIndex={-1}\n            >\n              <div className=\"header\">\n                {\n                  renderVerificationStatus({\n                    isCertification,\n                    verificationStatus,\n                  })\n                }\n                <div className=\"body\">\n                  {\n                    renderPermissionStatus({\n                      isCertification,\n                      ModificationPermissionsStatus,\n                      permissionStatus,\n                      translate,\n                    })\n                  }\n                  {renderDisallowedChanges()}\n                  {renderTrustVerification()}\n                  {renderSignaturePropertiesButton()}\n                </div>\n              </div>\n              <div className=\"header header-with-arrow\">\n                {renderSignatureDetails()}\n              </div>\n            </div>\n          )}\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <div\n            className=\"title link\"\n            tabIndex={0}\n            onClick={() => jumpToWidget(field)}\n            onKeyPress={() => jumpToWidget(field)}\n          >\n            <div\n              className={classNames({\n                arrow: true,\n                hidden: true\n              })}\n            ></div>\n            <p>{translate('digitalSignatureVerification.unsignedSignatureField', { fieldName: field.name })}</p>\n          </div>\n        </React.Fragment>\n      )}\n      <WidgetLocator rect={locatorRect} />\n    </div>\n  );\n};\n\nWidgetInfo.propTypes = propTypes;\n\nexport default WidgetInfo;\n","import WidgetInfo, { renderPermissionStatus } from './WidgetInfo';\n\nexport default WidgetInfo;\nexport {\n  renderPermissionStatus\n};\n","import React, { useCallback, useEffect, useState, } from 'react';\nimport { useDispatch, useSelector, } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport core from 'core';\nimport selectors from 'selectors';\nimport setVerificationResult from 'helpers/setVerificationResult';\n\nimport Spinner from './Spinner';\nimport WidgetInfo from './WidgetInfo';\n\nimport './SignaturePanel.scss';\nimport Icon from 'components/Icon';\nimport { panelData, panelNames } from 'constants/panel';\n\nconst SignaturePanel = () => {\n  const dispatch = useDispatch();\n  const [fields, setFields] = useState([]);\n  const [showSpinner, setShowSpinner] = useState(false);\n  const [certificateErrorMessage, setCertificateErrorMessage] = useState('');\n  const [document, setDocument] = useState(core.getDocument());\n  const [\n    isDisabled,\n    certificate,\n    trustLists,\n    currentLanguage,\n    revocationChecking,\n    revocationProxyPrefix,\n  ] = useSelector((state) => [\n    selectors.isElementDisabled(state, 'signaturePanel'),\n    selectors.getCertificates(state),\n    selectors.getTrustLists(state),\n    selectors.getCurrentLanguage(state),\n    selectors.getIsRevocationCheckingEnabled(state),\n    selectors.getRevocationProxyPrefix(state),\n  ]);\n  const [translate] = useTranslation();\n\n  const onDocumentLoaded = async () => {\n    setDocument(core.getDocument());\n  };\n\n  const onDocumentUnloaded = useCallback(() => {\n    setShowSpinner(true);\n    dispatch(actions.setVerificationResult({}));\n  }, [setShowSpinner, dispatch]);\n\n  const onAnnotationChanged = ((annotations, action) => {\n    const isInFormCreationMode = core.getAnnotationManager().getFormFieldCreationManager().isInFormFieldCreationMode();\n\n    if (action === 'add') {\n      addSignatureWidgetAnnotations(core.getAnnotationManager().getAnnotationsList());\n    } else if (action === 'delete' && isInFormCreationMode) {\n      removeAnnotations(annotations);\n    }\n  });\n\n  const addNonSignedFields = () => {\n    const currentAnnotations = core.getAnnotationManager().getAnnotationsList();\n    addSignatureWidgetAnnotations(currentAnnotations);\n  };\n\n  const addSignatureWidgetAnnotations = (annotations) => {\n    const currentFields = [];\n    annotations.forEach((annotation) => {\n      if (annotation instanceof window.Core.Annotations.SignatureWidgetAnnotation) {\n        currentFields.push(annotation.getField());\n      }\n    });\n    const newSet = new Set(currentFields);\n    setFields([...newSet]);\n  };\n\n  const removeAnnotations = (annotations) => {\n    annotations.forEach((annotation) => {\n      removeMatchingWidget(annotation);\n    });\n\n    addNonSignedFields();\n  };\n\n  const removeMatchingWidget = (annotation) => {\n    const annot = annotation;\n    const widgetFieldName = annot.getCustomData('trn-form-field-name');\n    const isRectanglePlaceholder = annotation instanceof window.Core.Annotations.RectangleAnnotation && widgetFieldName;\n    if (isRectanglePlaceholder) {\n      const annotationManager = core.getAnnotationManager();\n      const annotationList = annotationManager.getAnnotationsList();\n      const widgetToDelete = annotationList.filter((annotation) => {\n        return annotation.getCustomData('trn-editing-rectangle-id') === annot.Id;\n      });\n      annotationManager.deleteAnnotations(widgetToDelete);\n    }\n  };\n\n  const resetFields = () => {\n    setFields([]);\n    addNonSignedFields();\n  };\n\n  useEffect(() => {\n    // This ensures that when the document loads, the state of this component is\n    // updated accordingly\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('documentUnloaded', onDocumentUnloaded);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('formFieldCreationModeStarted', resetFields);\n    core.addEventListener('formFieldCreationModeEnded', resetFields);\n    return () => {\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('documentUnloaded', onDocumentUnloaded);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('formFieldCreationModeStarted', resetFields);\n      core.removeEventListener('formFieldCreationModeEnded', resetFields);\n    };\n  }, [onDocumentUnloaded]);\n\n  useEffect(() => {\n    // Need certificates for PDFNet to verify against, and for the document\n    // to be loaded in order to iterate through the signature fields in the\n    // document\n    if (document) {\n      // We need to wait for the annotationsLoaded event, otherwise the\n      // Field will not exist in the document\n      core.getAnnotationsLoadedPromise().then(() => {\n        setShowSpinner(true);\n        setVerificationResult(document, certificate, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch)\n          .then(async (verificationResult) => {\n            const fieldManager = core.getAnnotationManager().getFieldManager();\n            setFields(Object.keys(verificationResult).map((fieldName) => fieldManager.getField(fieldName)));\n            setCertificateErrorMessage('');\n          })\n          .catch((e) => {\n            if (e && e.message) {\n              setCertificateErrorMessage(e.message);\n            } else {\n              console.error(e);\n            }\n          })\n          .then(() => {\n            addNonSignedFields();\n          })\n          .finally(() => {\n            setShowSpinner(false);\n          });\n      });\n    } else {\n      setShowSpinner(true);\n    }\n  }, [certificate, document, dispatch, currentLanguage]);\n\n  if (isDisabled) {\n    return null;\n  }\n\n  /**\n   * Returns a JSX element if document loading is not complete, or an error\n   * occurs, otherwise nothing is returned, indicating that information about\n   * one or more signature will be returned from this component\n   */\n  const renderLoadingOrErrors = () => {\n    let result;\n    if (showSpinner) {\n      result = <Spinner />;\n    } else if (certificateErrorMessage === 'Error reading the local certificate') {\n      result = translate('digitalSignatureVerification.panelMessages.localCertificateError');\n    } else if (certificateErrorMessage === 'Download Failed') {\n      result = translate('digitalSignatureVerification.panelMessages.certificateDownloadError');\n    } else if (!fields.length) {\n      result = translate('digitalSignatureVerification.panelMessages.noSignatureFields');\n    } else {\n      /**\n       * If document has completed loading, there are no errors, and there are\n       * signature fields, this function does not need to return anything\n       */\n      return null;\n    }\n\n    return (\n      <div className=\"empty-panel-container\">\n        <Icon className=\"empty-icon\" glyph={panelData[panelNames.SIGNATURE].icon}/>\n        <div className=\"empty-message\">{result}</div>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"Panel SignaturePanel\"\n      data-element=\"signaturePanel\"\n    >\n      {renderLoadingOrErrors()}\n      {\n        !showSpinner && fields.length > 0 && (\n          fields.map((field, index) => {\n            return (\n              <WidgetInfo\n                key={index}\n                name={field.name}\n                collapsible\n                field={field}\n              />\n            );\n          })\n        )\n      }\n    </div>\n  );\n};\n\nexport default SignaturePanel;\n","import SignaturePanel from './SignaturePanel';\nimport Spinner from './Spinner';\nimport { renderPermissionStatus } from './WidgetInfo';\n\nexport default SignaturePanel;\n\nexport {\n  renderPermissionStatus,\n  SignaturePanel,\n  Spinner\n};\n"],"sourceRoot":""}